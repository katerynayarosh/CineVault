2025-02-26 13:26:54.130 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-26 13:26:54.268 +02:00 [DBG] Hosting starting
2025-02-26 13:26:54.632 +02:00 [INF] Now listening on: https://localhost:7171
2025-02-26 13:26:54.634 +02:00 [INF] Now listening on: http://localhost:5140
2025-02-26 13:26:54.635 +02:00 [DBG] Loaded hosting startup assembly CineVault.API
2025-02-26 13:26:54.636 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-02-26 13:26:54.636 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-02-26 13:26:54.637 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-02-26 13:26:54.764 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 13:26:54.765 +02:00 [INF] Hosting environment: Development
2025-02-26 13:26:54.766 +02:00 [INF] Content root path: C:\Users\Admin\Desktop\Навчанння\Розробка\cine-vault-rep\src\CineVault.API
2025-02-26 13:26:54.767 +02:00 [DBG] Hosting started
2025-02-26 13:26:54.891 +02:00 [DBG] Connection id "0HNAMB1SL0SKT" received FIN.
2025-02-26 13:26:54.891 +02:00 [DBG] Connection id "0HNAMB1SL0SKU" received FIN.
2025-02-26 13:26:54.906 +02:00 [DBG] Connection id "0HNAMB1SL0SKT" accepted.
2025-02-26 13:26:54.906 +02:00 [DBG] Connection id "0HNAMB1SL0SKU" accepted.
2025-02-26 13:26:54.907 +02:00 [DBG] Connection id "0HNAMB1SL0SKU" started.
2025-02-26 13:26:54.907 +02:00 [DBG] Connection id "0HNAMB1SL0SKT" started.
2025-02-26 13:26:54.942 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-02-26 13:26:54.942 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-02-26 13:26:55.009 +02:00 [DBG] Connection id "0HNAMB1SL0SKU" stopped.
2025-02-26 13:26:55.009 +02:00 [DBG] Connection id "0HNAMB1SL0SKT" stopped.
2025-02-26 13:26:55.016 +02:00 [DBG] Connection id "0HNAMB1SL0SKU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-26 13:26:55.016 +02:00 [DBG] Connection id "0HNAMB1SL0SKT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-02-26 13:26:55.253 +02:00 [DBG] Connection id "0HNAMB1SL0SKV" accepted.
2025-02-26 13:26:55.254 +02:00 [DBG] Connection id "0HNAMB1SL0SKV" started.
2025-02-26 13:26:55.331 +02:00 [DBG] Connection 0HNAMB1SL0SKV established using the following protocol: "Tls13"
2025-02-26 13:26:55.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.html - null null
2025-02-26 13:26:55.601 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-26 13:26:55.620 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-02-26 13:26:55.622 +02:00 [DBG] Request did not match any endpoints
2025-02-26 13:26:55.693 +02:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-02-26 13:26:55.696 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-02-26 13:26:55.704 +02:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-02-26 13:26:55.706 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-02-26 13:26:55.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.html - 200 null text/html;charset=utf-8 281.8581ms
2025-02-26 13:26:55.760 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.js - null null
2025-02-26 13:26:55.762 +02:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-02-26 13:26:55.763 +02:00 [DBG] Request did not match any endpoints
2025-02-26 13:26:55.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.js - 200 null application/javascript;charset=utf-8 6.1581ms
2025-02-26 13:26:55.779 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - null null
2025-02-26 13:26:55.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_vs/browserLink - null null
2025-02-26 13:26:55.803 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 23.4004ms
2025-02-26 13:26:55.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.5123ms
2025-02-26 13:26:56.060 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - null null
2025-02-26 13:26:56.063 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-02-26 13:26:56.065 +02:00 [DBG] Request did not match any endpoints
2025-02-26 13:26:56.101 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.4343ms
2025-02-26 13:27:19.786 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7171/api/Movies/GetMovies - null null
2025-02-26 13:27:19.810 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Movies/GetMovies'
2025-02-26 13:27:19.814 +02:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)' with route pattern 'api/Movies/GetMovies' is valid for the request path '/api/Movies/GetMovies'
2025-02-26 13:27:19.815 +02:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)'
2025-02-26 13:27:19.818 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-26 13:27:19.823 +02:00 [INF] Req start: GET /api/Movies/GetMovies
2025-02-26 13:27:19.825 +02:00 [INF] Executing endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)'
2025-02-26 13:27:19.858 +02:00 [INF] Route matched with {action = "GetMovies", controller = "Movies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CineVault.API.Controllers.Responses.MovieResponse]]] GetMovies() on controller CineVault.API.Controllers.MoviesController (CineVault.API).
2025-02-26 13:27:19.862 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-26 13:27:19.863 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-26 13:27:19.866 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-26 13:27:19.868 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-26 13:27:19.870 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-26 13:27:19.874 +02:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-02-26 13:27:20.010 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-26 13:27:20.030 +02:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-02-26 13:27:20.047 +02:00 [INF] GetMovies
2025-02-26 13:27:20.526 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.InMemory:9.0.0' with options: StoreName=Development Movie database connection string 
2025-02-26 13:27:20.577 +02:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(m => m.Reviews)
    .Select(m => new MovieResponse{ 
        Id = m.Id, 
        Title = m.Title, 
        Description = m.Description, 
        ReleaseDate = m.ReleaseDate, 
        Genre = m.Genre, 
        Director = m.Director, 
        AverageRating = m.Reviews.Count != 0 ? m.Reviews
            .Average(r => r.Rating) : 0, 
        ReviewCount = m.Reviews.Count 
    }
    )'
2025-02-26 13:27:20.771 +02:00 [DBG] Generated query execution expression: 
'queryContext => new QueryingEnumerable<MovieResponse>(
    queryContext, 
    InMemoryShapedQueryCompilingExpressionVisitor.Table(
        queryContext: queryContext, 
        entityType: EntityType: Movie)
        .Select(valueBuffer => new ValueBuffer(new object[]
        { 
            (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                valueBuffer: valueBuffer, 
                index: 0, 
                property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 5, 
                property: Property: Movie.Title (string) Required), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 1, 
                property: Property: Movie.Description (string)), 
            (object)ExpressionExtensions.ValueBufferTryReadValue<DateOnly?>(
                valueBuffer: valueBuffer, 
                index: 4, 
                property: Property: Movie.ReleaseDate (DateOnly?)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 3, 
                property: Property: Movie.Genre (string)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 2, 
                property: Property: Movie.Director (string)), 
            (object)
            {
                ValueBuffer namelessParameter{0};
                namelessParameter{0} = new ValueBuffer(new object[]{ (object)InMemoryShapedQueryCompilingExpressionVisitor.Table(
                    queryContext: queryContext, 
                    entityType: EntityType: Review)
                    .Where(valueBuffer => (int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 0, 
                        property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd) != null && object.Equals(
                        objA: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                            valueBuffer: valueBuffer, 
                            index: 0, 
                            property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
                        objB: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                            valueBuffer: valueBuffer, 
                            index: 3, 
                            property: Property: Review.MovieId (int) Required FK)))
                    .Count() });
                return namelessParameter{0}.IsEmpty ? default(int) : ExpressionExtensions.ValueBufferTryReadValue<int>(
                    valueBuffer: namelessParameter{0}, 
                    index: 0, 
                    property: null);
            } != 0 ? 
            {
                ValueBuffer namelessParameter{1};
                namelessParameter{1} = new ValueBuffer(new object[]{ (object)InMemoryShapedQueryCompilingExpressionVisitor.Table(
                    queryContext: queryContext, 
                    entityType: EntityType: Review)
                    .Where(valueBuffer => (int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 0, 
                        property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd) != null && object.Equals(
                        objA: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                            valueBuffer: valueBuffer, 
                            index: 0, 
                            property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
                        objB: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                            valueBuffer: valueBuffer, 
                            index: 3, 
                            property: Property: Review.MovieId (int) Required FK)))
                    .Average(valueBuffer => ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 4, 
                        property: Property: Review.Rating (int) Required)) });
                return namelessParameter{1}.IsEmpty ? default(double) : ExpressionExtensions.ValueBufferTryReadValue<double>(
                    valueBuffer: namelessParameter{1}, 
                    index: 0, 
                    property: null);
            } : 0, 
            (object)
            {
                ValueBuffer namelessParameter{2};
                namelessParameter{2} = new ValueBuffer(new object[]{ (object)InMemoryShapedQueryCompilingExpressionVisitor.Table(
                    queryContext: queryContext, 
                    entityType: EntityType: Review)
                    .Where(valueBuffer => (int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 0, 
                        property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd) != null && object.Equals(
                        objA: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                            valueBuffer: valueBuffer, 
                            index: 0, 
                            property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
                        objB: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                            valueBuffer: valueBuffer, 
                            index: 3, 
                            property: Property: Review.MovieId (int) Required FK)))
                    .Count() });
                return namelessParameter{2}.IsEmpty ? default(int) : ExpressionExtensions.ValueBufferTryReadValue<int>(
                    valueBuffer: namelessParameter{2}, 
                    index: 0, 
                    property: null);
            } 
        }))
        .Select(valueBuffer => new ValueBuffer(new object[]
        { 
            (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                valueBuffer: valueBuffer, 
                index: 0, 
                property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 1, 
                property: Property: Movie.Title (string) Required), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 2, 
                property: Property: Movie.Description (string)), 
            (object)ExpressionExtensions.ValueBufferTryReadValue<DateOnly?>(
                valueBuffer: valueBuffer, 
                index: 3, 
                property: Property: Movie.ReleaseDate (DateOnly?)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 4, 
                property: Property: Movie.Genre (string)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 5, 
                property: Property: Movie.Director (string)), 
            (object)ExpressionExtensions.ValueBufferTryReadValue<double>(
                valueBuffer: valueBuffer, 
                index: 6, 
                property: null), 
            (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                valueBuffer: valueBuffer, 
                index: 7, 
                property: null) 
        })), 
    Func<QueryContext, ValueBuffer, MovieResponse>, 
    CineVault.API.Entities.CineVaultDbContext, 
    False, 
    True
)'
2025-02-26 13:27:20.795 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-26 13:27:20.798 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-02-26 13:27:20.801 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-02-26 13:27:20.802 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-26 13:27:20.802 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-26 13:27:20.804 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-26 13:27:20.807 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CineVault.API.Controllers.Responses.MovieResponse, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:27:20.832 +02:00 [INF] Executed action CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API) in 954.5331ms
2025-02-26 13:27:20.833 +02:00 [INF] Executed endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)'
2025-02-26 13:27:20.834 +02:00 [INF] Req done: GET /api/Movies/GetMovies 200 in 1011 ms
2025-02-26 13:27:20.841 +02:00 [DBG] 'CineVaultDbContext' disposed.
2025-02-26 13:27:20.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7171/api/Movies/GetMovies - 200 null application/json; charset=utf-8 1058.5533ms
2025-03-31 12:27:02.624 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-31 12:27:02.810 +03:00 [DBG] Hosting starting
2025-03-31 12:27:02.831 +03:00 [DBG] Middleware loaded
2025-03-31 12:27:02.834 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16511 B).
2025-03-31 12:27:02.836 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-03-31 12:27:03.044 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-03-31 12:27:03.245 +03:00 [INF] Now listening on: https://localhost:7171
2025-03-31 12:27:03.247 +03:00 [INF] Now listening on: http://localhost:5140
2025-03-31 12:27:03.249 +03:00 [DBG] Loaded hosting startup assembly CineVault.API
2025-03-31 12:27:03.250 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-03-31 12:27:03.250 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-31 12:27:03.251 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-31 12:27:03.409 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-31 12:27:03.414 +03:00 [INF] Hosting environment: Development
2025-03-31 12:27:03.416 +03:00 [INF] Content root path: C:\Users\Admin\Desktop\Навчанння\Розробка\cine-vault-rep\src\CineVault.API
2025-03-31 12:27:03.417 +03:00 [DBG] Hosting started
2025-03-31 12:27:03.519 +03:00 [DBG] Connection id "0HNBG6OP8RSQI" received FIN.
2025-03-31 12:27:03.519 +03:00 [DBG] Connection id "0HNBG6OP8RSQJ" received FIN.
2025-03-31 12:27:03.522 +03:00 [DBG] Connection id "0HNBG6OP8RSQI" accepted.
2025-03-31 12:27:03.522 +03:00 [DBG] Connection id "0HNBG6OP8RSQJ" accepted.
2025-03-31 12:27:03.525 +03:00 [DBG] Connection id "0HNBG6OP8RSQJ" started.
2025-03-31 12:27:03.525 +03:00 [DBG] Connection id "0HNBG6OP8RSQI" started.
2025-03-31 12:27:03.562 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-31 12:27:03.562 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-31 12:27:03.645 +03:00 [DBG] Connection id "0HNBG6OP8RSQI" stopped.
2025-03-31 12:27:03.645 +03:00 [DBG] Connection id "0HNBG6OP8RSQJ" stopped.
2025-03-31 12:27:03.660 +03:00 [DBG] Connection id "0HNBG6OP8RSQJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-31 12:27:03.660 +03:00 [DBG] Connection id "0HNBG6OP8RSQI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-31 12:27:04.243 +03:00 [DBG] Connection id "0HNBG6OP8RSQK" accepted.
2025-03-31 12:27:04.245 +03:00 [DBG] Connection id "0HNBG6OP8RSQK" started.
2025-03-31 12:27:04.267 +03:00 [DBG] Connection id "0HNBG6OP8RSQL" accepted.
2025-03-31 12:27:04.273 +03:00 [DBG] Connection id "0HNBG6OP8RSQL" started.
2025-03-31 12:27:04.330 +03:00 [DBG] Connection id "0HNBG6OP8RSQK" received FIN.
2025-03-31 12:27:04.373 +03:00 [DBG] Connection 0HNBG6OP8RSQL established using the following protocol: "Tls13"
2025-03-31 12:27:04.373 +03:00 [DBG] Connection 0HNBG6OP8RSQK established using the following protocol: "Tls13"
2025-03-31 12:27:04.428 +03:00 [DBG] Connection id "0HNBG6OP8RSQK" is closed. The last processed stream ID was 0.
2025-03-31 12:27:04.430 +03:00 [DBG] Connection id "0HNBG6OP8RSQK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-31 12:27:04.441 +03:00 [DBG] The connection queue processing loop for 0HNBG6OP8RSQK completed.
2025-03-31 12:27:04.446 +03:00 [DBG] Connection id "0HNBG6OP8RSQK" stopped.
2025-03-31 12:27:04.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger - null null
2025-03-31 12:27:04.698 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-31 12:27:04.750 +03:00 [DBG] No candidates found for the request path '/swagger'
2025-03-31 12:27:04.752 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger - 301 0 null 270.3461ms
2025-03-31 12:27:04.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.html - null null
2025-03-31 12:27:04.783 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-31 12:27:04.784 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.844 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-03-31 12:27:04.847 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-31 12:27:04.859 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-03-31 12:27:04.860 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-31 12:27:04.861 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.html - 200 null text/html;charset=utf-8 86.8835ms
2025-03-31 12:27:04.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/swagger-ui.css - null null
2025-03-31 12:27:04.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - null null
2025-03-31 12:27:04.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.js - null null
2025-03-31 12:27:04.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/swagger-ui-standalone-preset.js - null null
2025-03-31 12:27:04.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/swagger-ui-bundle.js - null null
2025-03-31 12:27:04.886 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-03-31 12:27:04.889 +03:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-03-31 12:27:04.893 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.890 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-03-31 12:27:04.892 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-03-31 12:27:04.893 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.895 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.898 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.css - null null
2025-03-31 12:27:04.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_vs/browserLink - null null
2025-03-31 12:27:04.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.js - 200 null application/javascript;charset=utf-8 40.3955ms
2025-03-31 12:27:04.914 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-03-31 12:27:04.914 +03:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-03-31 12:27:04.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 50.4456ms
2025-03-31 12:27:04.923 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:04.931 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-03-31 12:27:04.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.css - 200 202 text/css 70.245ms
2025-03-31 12:27:04.966 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-03-31 12:27:04.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/swagger-ui.css - 200 152035 text/css 100.0773ms
2025-03-31 12:27:04.980 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-03-31 12:27:05.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 129.8798ms
2025-03-31 12:27:05.047 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-03-31 12:27:05.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 178.0594ms
2025-03-31 12:27:05.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_vs/browserLink - 200 null text/javascript; charset=UTF-8 224.1915ms
2025-03-31 12:27:05.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - null null
2025-03-31 12:27:05.243 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-31 12:27:05.245 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:05.274 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/favicon-32x32.png - null null
2025-03-31 12:27:05.281 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-03-31 12:27:05.283 +03:00 [DBG] Request did not match any endpoints
2025-03-31 12:27:05.285 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-03-31 12:27:05.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/favicon-32x32.png - 200 628 image/png 16.2056ms
2025-03-31 12:27:05.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.8977ms
2025-03-31 12:27:15.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/api/environment - null null
2025-03-31 12:27:15.255 +03:00 [DBG] 1 candidate(s) found for the request path '/api/environment'
2025-03-31 12:27:15.261 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.AppInfoController.GetEnvironment (CineVault.API)' with route pattern 'api/environment' is valid for the request path '/api/environment'
2025-03-31 12:27:15.272 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.AppInfoController.GetEnvironment (CineVault.API)'
2025-03-31 12:27:15.276 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-31 12:27:15.285 +03:00 [INF] Req start: GET /api/environment
2025-03-31 12:27:15.288 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.AppInfoController.GetEnvironment (CineVault.API)'
2025-03-31 12:27:15.318 +03:00 [INF] Route matched with {action = "GetEnvironment", controller = "AppInfo"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] GetEnvironment() on controller CineVault.API.Controllers.AppInfoController (CineVault.API).
2025-03-31 12:27:15.322 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-31 12:27:15.323 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-31 12:27:15.325 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 12:27:15.327 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-31 12:27:15.329 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 12:27:15.333 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.AppInfoController (CineVault.API)
2025-03-31 12:27:15.334 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.AppInfoController (CineVault.API)
2025-03-31 12:27:15.343 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-31 12:27:15.350 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-03-31 12:27:15.354 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-03-31 12:27:15.356 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-31 12:27:15.358 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-31 12:27:15.360 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-31 12:27:15.362 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-31 12:27:15.387 +03:00 [INF] Executed action CineVault.API.Controllers.AppInfoController.GetEnvironment (CineVault.API) in 53.0262ms
2025-03-31 12:27:15.389 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.AppInfoController.GetEnvironment (CineVault.API)'
2025-03-31 12:27:15.390 +03:00 [INF] Req done: GET /api/environment 200 in 104 ms
2025-03-31 12:27:15.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/api/environment - 200 null application/json; charset=utf-8 152.2535ms
2025-03-31 13:52:17.434 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-31 13:52:17.652 +03:00 [DBG] Hosting starting
2025-03-31 13:52:17.679 +03:00 [DBG] Middleware loaded
2025-03-31 13:52:17.684 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16511 B).
2025-03-31 13:52:17.687 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-03-31 13:52:17.871 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-03-31 13:52:18.062 +03:00 [INF] Now listening on: https://localhost:7171
2025-03-31 13:52:18.064 +03:00 [INF] Now listening on: http://localhost:5140
2025-03-31 13:52:18.065 +03:00 [DBG] Loaded hosting startup assembly CineVault.API
2025-03-31 13:52:18.066 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-03-31 13:52:18.067 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-31 13:52:18.068 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-31 13:52:18.247 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-31 13:52:18.248 +03:00 [INF] Hosting environment: Development
2025-03-31 13:52:18.249 +03:00 [INF] Content root path: C:\Users\Admin\Desktop\Навчанння\Розробка\cine-vault-rep\src\CineVault.API
2025-03-31 13:52:18.250 +03:00 [DBG] Hosting started
2025-03-31 13:52:18.401 +03:00 [DBG] Connection id "0HNBG88DK3EC9" accepted.
2025-03-31 13:52:18.401 +03:00 [DBG] Connection id "0HNBG88DK3EC8" accepted.
2025-03-31 13:52:18.404 +03:00 [DBG] Connection id "0HNBG88DK3EC9" received FIN.
2025-03-31 13:52:18.404 +03:00 [DBG] Connection id "0HNBG88DK3EC8" received FIN.
2025-03-31 13:52:18.413 +03:00 [DBG] Connection id "0HNBG88DK3EC8" started.
2025-03-31 13:52:18.404 +03:00 [DBG] Connection id "0HNBG88DK3EC9" started.
2025-03-31 13:52:18.451 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-31 13:52:18.451 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-31 13:52:18.546 +03:00 [DBG] Connection id "0HNBG88DK3EC8" stopped.
2025-03-31 13:52:18.546 +03:00 [DBG] Connection id "0HNBG88DK3EC9" stopped.
2025-03-31 13:52:18.572 +03:00 [DBG] Connection id "0HNBG88DK3EC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-31 13:52:18.572 +03:00 [DBG] Connection id "0HNBG88DK3EC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-31 13:52:18.772 +03:00 [DBG] Connection id "0HNBG88DK3ECA" accepted.
2025-03-31 13:52:18.791 +03:00 [DBG] Connection id "0HNBG88DK3ECA" started.
2025-03-31 13:52:18.879 +03:00 [DBG] Connection 0HNBG88DK3ECA established using the following protocol: "Tls13"
2025-03-31 13:52:19.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.html - null null
2025-03-31 13:52:19.190 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-31 13:52:19.258 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-31 13:52:19.262 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:52:19.357 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-03-31 13:52:19.360 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-31 13:52:19.373 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-03-31 13:52:19.376 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-31 13:52:19.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.html - 200 null text/html;charset=utf-8 384.3405ms
2025-03-31 13:52:19.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.js - null null
2025-03-31 13:52:19.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - null null
2025-03-31 13:52:19.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_vs/browserLink - null null
2025-03-31 13:52:19.412 +03:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-03-31 13:52:19.420 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:52:19.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.js - 200 null application/javascript;charset=utf-8 21.6889ms
2025-03-31 13:52:19.438 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-03-31 13:52:19.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 56.907ms
2025-03-31 13:52:19.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.8206ms
2025-03-31 13:52:19.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - null null
2025-03-31 13:52:19.730 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-31 13:52:19.734 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:52:19.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.1547ms
2025-03-31 13:57:32.069 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-31 13:57:32.287 +03:00 [DBG] Hosting starting
2025-03-31 13:57:32.314 +03:00 [DBG] Middleware loaded
2025-03-31 13:57:32.322 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16511 B).
2025-03-31 13:57:32.332 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-03-31 13:57:32.492 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-03-31 13:57:32.669 +03:00 [INF] Now listening on: https://localhost:7171
2025-03-31 13:57:32.670 +03:00 [INF] Now listening on: http://localhost:5140
2025-03-31 13:57:32.672 +03:00 [DBG] Loaded hosting startup assembly CineVault.API
2025-03-31 13:57:32.672 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-03-31 13:57:32.673 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-31 13:57:32.675 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-03-31 13:57:32.829 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-31 13:57:32.830 +03:00 [INF] Hosting environment: Development
2025-03-31 13:57:32.831 +03:00 [INF] Content root path: C:\Users\Admin\Desktop\Навчанння\Розробка\cine-vault-rep\src\CineVault.API
2025-03-31 13:57:32.833 +03:00 [DBG] Hosting started
2025-03-31 13:57:32.855 +03:00 [DBG] Connection id "0HNBG8BBB1SB6" received FIN.
2025-03-31 13:57:32.863 +03:00 [DBG] Connection id "0HNBG8BBB1SB6" accepted.
2025-03-31 13:57:32.865 +03:00 [DBG] Connection id "0HNBG8BBB1SB6" started.
2025-03-31 13:57:32.894 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-31 13:57:32.962 +03:00 [DBG] Connection id "0HNBG8BBB1SB6" stopped.
2025-03-31 13:57:32.969 +03:00 [DBG] Connection id "0HNBG8BBB1SB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-31 13:57:33.362 +03:00 [DBG] Connection id "0HNBG8BBB1SB7" accepted.
2025-03-31 13:57:33.369 +03:00 [DBG] Connection id "0HNBG8BBB1SB7" started.
2025-03-31 13:57:33.467 +03:00 [DBG] Connection 0HNBG8BBB1SB7 established using the following protocol: "Tls13"
2025-03-31 13:57:33.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.html - null null
2025-03-31 13:57:33.787 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-31 13:57:33.844 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-03-31 13:57:33.846 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:57:33.922 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-03-31 13:57:33.926 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-03-31 13:57:33.934 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-03-31 13:57:33.937 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-03-31 13:57:33.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.html - 200 null text/html;charset=utf-8 361.2631ms
2025-03-31 13:57:33.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_vs/browserLink - null null
2025-03-31 13:57:33.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - null null
2025-03-31 13:57:33.983 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.js - null null
2025-03-31 13:57:34.011 +03:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-03-31 13:57:34.013 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:57:34.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.js - 200 null application/javascript;charset=utf-8 42.8801ms
2025-03-31 13:57:34.054 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-03-31 13:57:34.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 86.7957ms
2025-03-31 13:57:34.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.8451ms
2025-03-31 13:57:34.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - null null
2025-03-31 13:57:34.160 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-03-31 13:57:34.162 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:57:34.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6202ms
2025-03-31 13:57:41.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v2/swagger.json - null null
2025-03-31 13:57:41.192 +03:00 [DBG] No candidates found for the request path '/swagger/v2/swagger.json'
2025-03-31 13:57:41.193 +03:00 [DBG] Request did not match any endpoints
2025-03-31 13:57:41.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 34.1631ms
2025-03-31 13:57:58.497 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Movies/CreateMovie - application/json 324
2025-03-31 13:57:58.510 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Movies/CreateMovie'
2025-03-31 13:57:58.517 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.CreateMovie (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Movies/CreateMovie' is valid for the request path '/api/v2/Movies/CreateMovie'
2025-03-31 13:57:58.519 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.CreateMovie (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Movies/CreateMovie' is valid for the request path '/api/v2/Movies/CreateMovie'
2025-03-31 13:57:58.530 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.MoviesController.CreateMovie (CineVault.API)'
2025-03-31 13:57:58.533 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-31 13:57:58.541 +03:00 [INF] Req start: POST /api/v2/Movies/CreateMovie
2025-03-31 13:57:58.543 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.MoviesController.CreateMovie (CineVault.API)'
2025-03-31 13:57:58.578 +03:00 [INF] Route matched with {action = "CreateMovie", controller = "Movies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] CreateMovie(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]) on controller CineVault.API.Controllers.MoviesController (CineVault.API).
2025-03-31 13:57:58.582 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-31 13:57:58.583 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-31 13:57:58.585 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:57:58.588 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-31 13:57:58.590 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:57:58.593 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-03-31 13:57:58.731 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-31 13:57:58.763 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-03-31 13:57:58.783 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]' ...
2025-03-31 13:57:58.788 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]' using the name '' in request data ...
2025-03-31 13:57:58.791 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-31 13:57:58.814 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:0000000D": started reading request body.
2025-03-31 13:57:58.815 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:0000000D": done reading request body.
2025-03-31 13:57:58.840 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.MovieRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-03-31 13:57:58.842 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]'.
2025-03-31 13:57:58.843 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]'.
2025-03-31 13:57:58.844 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]' ...
2025-03-31 13:57:58.859 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.MovieRequest]'.
2025-03-31 13:57:58.868 +03:00 [INF] CreateMovie title:string
2025-03-31 13:57:59.417 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.InMemory:9.0.0' with options: StoreName=Development Movie database connection string 
2025-03-31 13:57:59.484 +03:00 [DBG] 'CineVaultDbContext' generated a value for the property 'Movie.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:57:59.548 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:57:59.560 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-03-31 13:57:59.566 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-03-31 13:57:59.582 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-03-31 13:57:59.610 +03:00 [INF] Saved 1 entities to in-memory store.
2025-03-31 13:57:59.625 +03:00 [DBG] An entity of type 'Movie' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:57:59.631 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-03-31 13:57:59.637 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-31 13:57:59.642 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-03-31 13:57:59.644 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-03-31 13:57:59.646 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-31 13:57:59.647 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-31 13:57:59.649 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-31 13:57:59.652 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-31 13:57:59.676 +03:00 [INF] Executed action CineVault.API.Controllers.MoviesController.CreateMovie (CineVault.API) in 1082.4429ms
2025-03-31 13:57:59.677 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.MoviesController.CreateMovie (CineVault.API)'
2025-03-31 13:57:59.678 +03:00 [INF] Req done: POST /api/v2/Movies/CreateMovie 200 in 1137 ms
2025-03-31 13:57:59.684 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-03-31 13:57:59.692 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Movies/CreateMovie - 200 null application/json; charset=utf-8 1194.8803ms
2025-03-31 13:58:13.329 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Users/CreateUser - application/json 265
2025-03-31 13:58:13.334 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Users/CreateUser'
2025-03-31 13:58:13.336 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/CreateUser' is valid for the request path '/api/v2/Users/CreateUser'
2025-03-31 13:58:13.338 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/CreateUser' is valid for the request path '/api/v2/Users/CreateUser'
2025-03-31 13:58:13.341 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-03-31 13:58:13.343 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-31 13:58:13.347 +03:00 [INF] Req start: POST /api/v2/Users/CreateUser
2025-03-31 13:58:13.348 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-03-31 13:58:13.361 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] CreateUser(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]) on controller CineVault.API.Controllers.UsersController (CineVault.API).
2025-03-31 13:58:13.363 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-31 13:58:13.364 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-31 13:58:13.365 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:58:13.367 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-31 13:58:13.369 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:58:13.371 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-03-31 13:58:13.380 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-03-31 13:58:13.382 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' ...
2025-03-31 13:58:13.385 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' using the name '' in request data ...
2025-03-31 13:58:13.387 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-31 13:58:13.392 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:0000000F": started reading request body.
2025-03-31 13:58:13.393 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:0000000F": done reading request body.
2025-03-31 13:58:13.396 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.UserRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-03-31 13:58:13.397 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-03-31 13:58:13.399 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-03-31 13:58:13.400 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' ...
2025-03-31 13:58:13.408 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-03-31 13:58:13.414 +03:00 [INF] CreateUser username:string
2025-03-31 13:58:13.456 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.InMemory:9.0.0' with options: StoreName=Development Movie database connection string 
2025-03-31 13:58:13.464 +03:00 [DBG] 'CineVaultDbContext' generated a value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:58:13.475 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:58:13.476 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-03-31 13:58:13.479 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-03-31 13:58:13.483 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-03-31 13:58:13.485 +03:00 [INF] Saved 1 entities to in-memory store.
2025-03-31 13:58:13.488 +03:00 [DBG] An entity of type 'User' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:58:13.490 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-03-31 13:58:13.492 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-31 13:58:13.494 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-03-31 13:58:13.495 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-03-31 13:58:13.496 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-31 13:58:13.497 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-31 13:58:13.497 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-31 13:58:13.499 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-31 13:58:13.501 +03:00 [INF] Executed action CineVault.API.Controllers.UsersController.CreateUser (CineVault.API) in 129.6062ms
2025-03-31 13:58:13.502 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-03-31 13:58:13.504 +03:00 [INF] Req done: POST /api/v2/Users/CreateUser 200 in 156 ms
2025-03-31 13:58:13.505 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-03-31 13:58:13.506 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Users/CreateUser - 200 null application/json; charset=utf-8 177.743ms
2025-03-31 13:58:44.887 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Reviews/CreateReview - application/json 267
2025-03-31 13:58:44.913 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Reviews/CreateReview'
2025-03-31 13:58:44.914 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Reviews/CreateReview' is valid for the request path '/api/v2/Reviews/CreateReview'
2025-03-31 13:58:44.916 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Reviews/CreateReview' is valid for the request path '/api/v2/Reviews/CreateReview'
2025-03-31 13:58:44.918 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)'
2025-03-31 13:58:44.919 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-31 13:58:44.923 +03:00 [INF] Req start: POST /api/v2/Reviews/CreateReview
2025-03-31 13:58:44.924 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)'
2025-03-31 13:58:44.929 +03:00 [INF] Route matched with {action = "CreateReview", controller = "Reviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] CreateReview(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]) on controller CineVault.API.Controllers.ReviewsController (CineVault.API).
2025-03-31 13:58:44.931 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-31 13:58:44.932 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-31 13:58:44.933 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:58:44.934 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-31 13:58:44.936 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:58:44.937 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.ReviewsController (CineVault.API)
2025-03-31 13:58:44.943 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.ReviewsController (CineVault.API)
2025-03-31 13:58:44.944 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]' ...
2025-03-31 13:58:44.945 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]' using the name '' in request data ...
2025-03-31 13:58:44.946 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-31 13:58:44.949 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:00000011": started reading request body.
2025-03-31 13:58:44.950 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:00000011": done reading request body.
2025-03-31 13:58:44.959 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.ReviewRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-03-31 13:58:44.960 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]'.
2025-03-31 13:58:44.961 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]'.
2025-03-31 13:58:44.962 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]' ...
2025-03-31 13:58:44.963 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]'.
2025-03-31 13:58:44.966 +03:00 [INF] CreateReview movieId:1 userId:1
2025-03-31 13:58:44.984 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.InMemory:9.0.0' with options: StoreName=Development Movie database connection string 
2025-03-31 13:58:44.992 +03:00 [DBG] 'CineVaultDbContext' generated a value for the property 'Review.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:58:45.007 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:58:45.008 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-03-31 13:58:45.010 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-03-31 13:58:45.015 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-03-31 13:58:45.016 +03:00 [INF] Saved 1 entities to in-memory store.
2025-03-31 13:58:45.017 +03:00 [DBG] An entity of type 'Review' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:58:45.018 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-03-31 13:58:45.021 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-31 13:58:45.025 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-03-31 13:58:45.027 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-03-31 13:58:45.029 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-31 13:58:45.030 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-31 13:58:45.031 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-31 13:58:45.032 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-31 13:58:45.033 +03:00 [INF] Executed action CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API) in 96.2858ms
2025-03-31 13:58:45.034 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)'
2025-03-31 13:58:45.035 +03:00 [INF] Req done: POST /api/v2/Reviews/CreateReview 200 in 112 ms
2025-03-31 13:58:45.037 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-03-31 13:58:45.039 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Reviews/CreateReview - 200 null application/json; charset=utf-8 152.0806ms
2025-03-31 13:59:00.006 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Movies/GetMovies - application/json 174
2025-03-31 13:59:00.009 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Movies/GetMovies'
2025-03-31 13:59:00.010 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Movies/GetMovies' is valid for the request path '/api/v2/Movies/GetMovies'
2025-03-31 13:59:00.013 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)'
2025-03-31 13:59:00.014 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-31 13:59:00.016 +03:00 [INF] Req start: POST /api/v2/Movies/GetMovies
2025-03-31 13:59:00.018 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)'
2025-03-31 13:59:00.030 +03:00 [INF] Route matched with {action = "GetMovies", controller = "Movies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Responses.MovieResponse]]]] GetMovies(CineVault.API.Controllers.Requests.ApiRequest) on controller CineVault.API.Controllers.MoviesController (CineVault.API).
2025-03-31 13:59:00.032 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-31 13:59:00.034 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-31 13:59:00.037 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:59:00.041 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-31 13:59:00.042 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-03-31 13:59:00.044 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-03-31 13:59:00.045 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-03-31 13:59:00.046 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-03-31 13:59:00.047 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' using the name '' in request data ...
2025-03-31 13:59:00.048 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-31 13:59:00.050 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:00000013": started reading request body.
2025-03-31 13:59:00.051 +03:00 [DBG] Connection id "0HNBG8BBB1SB7", Request id "0HNBG8BBB1SB7:00000013": done reading request body.
2025-03-31 13:59:00.054 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest'
2025-03-31 13:59:00.054 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-03-31 13:59:00.055 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-03-31 13:59:00.057 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-03-31 13:59:00.063 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-03-31 13:59:00.066 +03:00 [INF] GetMovies
2025-03-31 13:59:00.069 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.InMemory:9.0.0' with options: StoreName=Development Movie database connection string 
2025-03-31 13:59:00.107 +03:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(m => m.Reviews)'
2025-03-31 13:59:00.179 +03:00 [DBG] Including navigation: 'Movie.Reviews'.
2025-03-31 13:59:00.320 +03:00 [DBG] Generated query execution expression: 
'queryContext => new QueryingEnumerable<Movie>(
    queryContext, 
    InMemoryShapedQueryCompilingExpressionVisitor.Table(
        queryContext: queryContext, 
        entityType: EntityType: Movie)
        .Select(valueBuffer => new ValueBuffer(new object[]
        { 
            (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                valueBuffer: valueBuffer, 
                index: 0, 
                property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 1, 
                property: Property: Movie.Description (string)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 2, 
                property: Property: Movie.Director (string)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 3, 
                property: Property: Movie.Genre (string)), 
            (object)ExpressionExtensions.ValueBufferTryReadValue<DateOnly?>(
                valueBuffer: valueBuffer, 
                index: 4, 
                property: Property: Movie.ReleaseDate (DateOnly?)), 
            ExpressionExtensions.ValueBufferTryReadValue<string>(
                valueBuffer: valueBuffer, 
                index: 5, 
                property: Property: Movie.Title (string) Required), 
            InMemoryShapedQueryCompilingExpressionVisitor.Table(
                queryContext: queryContext, 
                entityType: EntityType: Review)
                .Where(valueBuffer => (int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                    valueBuffer: valueBuffer, 
                    index: 0, 
                    property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd) != null && object.Equals(
                    objA: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 0, 
                        property: Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
                    objB: (object)(int?)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 3, 
                        property: Property: Review.MovieId (int) Required FK)))
                .Select(valueBuffer => new ValueBuffer(new object[]
                { 
                    (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 0, 
                        property: Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd), 
                    ExpressionExtensions.ValueBufferTryReadValue<string>(
                        valueBuffer: valueBuffer, 
                        index: 1, 
                        property: Property: Review.Comment (string)), 
                    (object)ExpressionExtensions.ValueBufferTryReadValue<DateTime>(
                        valueBuffer: valueBuffer, 
                        index: 2, 
                        property: Property: Review.CreatedAt (DateTime) Required), 
                    (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 3, 
                        property: Property: Review.MovieId (int) Required FK), 
                    (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 4, 
                        property: Property: Review.Rating (int) Required), 
                    (object)ExpressionExtensions.ValueBufferTryReadValue<int>(
                        valueBuffer: valueBuffer, 
                        index: 5, 
                        property: Property: Review.UserId (int) Required FK) 
                })) 
        })), 
    Func<QueryContext, ValueBuffer, Movie>, 
    CineVault.API.Entities.CineVaultDbContext, 
    False, 
    True
)'
2025-03-31 13:59:00.346 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:59:00.356 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-31 13:59:00.388 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-31 13:59:00.390 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-03-31 13:59:00.391 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-03-31 13:59:00.392 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-31 13:59:00.393 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-31 13:59:00.394 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-31 13:59:00.395 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Collections.Generic.ICollection`1[[CineVault.API.Controllers.Responses.MovieResponse, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-31 13:59:00.410 +03:00 [INF] Executed action CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API) in 366.4056ms
2025-03-31 13:59:00.411 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.MoviesController.GetMovies (CineVault.API)'
2025-03-31 13:59:00.412 +03:00 [INF] Req done: POST /api/v2/Movies/GetMovies 200 in 395 ms
2025-03-31 13:59:00.414 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-03-31 13:59:00.415 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Movies/GetMovies - 200 null application/json; charset=utf-8 409.2262ms
2025-04-08 15:59:26.490 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 15:59:27.272 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-04-08 15:59:28.331 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:01:10.376 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 16:01:10.430 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2025-04-08 16:01:10.913 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-04-08 16:01:11.074 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:01:11.831 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:02:35.598 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 16:02:35.654 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2025-04-08 16:02:36.110 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-04-08 16:02:36.142 +03:00 [DBG] The property 'Movie.ActorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-04-08 16:02:36.249 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:02:37.017 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:04:37.959 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 16:04:38.027 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2025-04-08 16:04:38.540 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-04-08 16:04:38.574 +03:00 [DBG] The property 'Movie.ActorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-04-08 16:04:38.688 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:04:39.485 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:05:16.171 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 16:05:16.228 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2025-04-08 16:05:16.659 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-04-08 16:05:16.697 +03:00 [DBG] The property 'Movie.ActorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-04-08 16:05:16.778 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:05:17.414 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:06:59.544 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 16:06:59.596 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2025-04-08 16:06:59.969 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-04-08 16:06:59.993 +03:00 [DBG] The property 'Movie.ActorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-04-08 16:07:00.085 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:07:00.700 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:14:35.225 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-08 16:14:35.403 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2025-04-08 16:14:36.115 +03:00 [DBG] The index {'ActorsId'} was not created on entity type 'ActorMovie (Dictionary<string, object>)' as the properties are already covered by the index {'ActorsId', 'MoviesId'}.
2025-04-08 16:14:36.211 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-04-08 16:14:36.349 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:14:36.393 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:14:36.441 +03:00 [DBG] Created DbConnection. (48ms).
2025-04-08 16:14:36.449 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:40.647 +03:00 [DBG] An error occurred using the connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:40.828 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:14:40.829 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-08 16:14:40.831 +03:00 [DBG] Opening connection to database 'master' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:40.854 +03:00 [DBG] Opened connection to database 'master' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:40.861 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:40.876 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-04-08 16:14:40.880 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2025-04-08 16:14:40.894 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [CineVault];
2025-04-08 16:14:41.265 +03:00 [INF] Executed DbCommand (372ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [CineVault];
2025-04-08 16:14:41.269 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.273 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-04-08 16:14:41.276 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-04-08 16:14:41.278 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CineVault] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-04-08 16:14:41.409 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CineVault] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-04-08 16:14:41.419 +03:00 [DBG] Closing connection to database 'master' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.438 +03:00 [DBG] Closed connection to database 'master' on server '(localdb)\mssqllocaldb' (15ms).
2025-04-08 16:14:41.445 +03:00 [DBG] Disposing connection to database 'master' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.449 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-08 16:14:41.452 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.467 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.469 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.471 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.473 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-04-08 16:14:41.475 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-08 16:14:41.489 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-04-08 16:14:41.491 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.492 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:14:41.647 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.664 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.669 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-08 16:14:41.680 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-08 16:14:41.683 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.685 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.689 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-04-08 16:14:41.691 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Actors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(100) NOT NULL,
    [BirthDate] date NOT NULL,
    [Biography] nvarchar(1000) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Actors] PRIMARY KEY ([Id])
);
2025-04-08 16:14:41.703 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Actors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(100) NOT NULL,
    [BirthDate] date NOT NULL,
    [Biography] nvarchar(1000) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Actors] PRIMARY KEY ([Id])
);
2025-04-08 16:14:41.706 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.707 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-04-08 16:14:41.708 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.710 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Movies] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Description] nvarchar(1000) NULL,
    [ReleaseDate] date NULL,
    [Genre] nvarchar(100) NULL,
    [Director] nvarchar(100) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Movies] PRIMARY KEY ([Id])
);
2025-04-08 16:14:41.714 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Movies] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Description] nvarchar(1000) NULL,
    [ReleaseDate] date NULL,
    [Genre] nvarchar(100) NULL,
    [Director] nvarchar(100) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Movies] PRIMARY KEY ([Id])
);
2025-04-08 16:14:41.716 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.717 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-04-08 16:14:41.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.720 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(100) NOT NULL,
    [Email] nvarchar(100) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [Created_At] datetime2 NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-04-08 16:14:41.723 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(100) NOT NULL,
    [Email] nvarchar(100) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [Created_At] datetime2 NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-04-08 16:14:41.725 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.726 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-04-08 16:14:41.728 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.729 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ActorMovie] (
    [ActorsId] int NOT NULL,
    [MoviesId] int NOT NULL,
    CONSTRAINT [PK_ActorMovie] PRIMARY KEY ([ActorsId], [MoviesId]),
    CONSTRAINT [FK_ActorMovie_Actors_ActorsId] FOREIGN KEY ([ActorsId]) REFERENCES [Actors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ActorMovie_Movies_MoviesId] FOREIGN KEY ([MoviesId]) REFERENCES [Movies] ([Id]) ON DELETE CASCADE
);
2025-04-08 16:14:41.737 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ActorMovie] (
    [ActorsId] int NOT NULL,
    [MoviesId] int NOT NULL,
    CONSTRAINT [PK_ActorMovie] PRIMARY KEY ([ActorsId], [MoviesId]),
    CONSTRAINT [FK_ActorMovie_Actors_ActorsId] FOREIGN KEY ([ActorsId]) REFERENCES [Actors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ActorMovie_Movies_MoviesId] FOREIGN KEY ([MoviesId]) REFERENCES [Movies] ([Id]) ON DELETE CASCADE
);
2025-04-08 16:14:41.744 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.747 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.749 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-04-08 16:14:41.751 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [Id] int NOT NULL IDENTITY,
    [MovieId] int NOT NULL,
    [User_ID] int NOT NULL,
    [Rating] int NOT NULL,
    [Comment] nvarchar(1000) NULL,
    [Created_At] datetime2 NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reviews_Movies_MovieId] FOREIGN KEY ([MovieId]) REFERENCES [Movies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_User_ID] FOREIGN KEY ([User_ID]) REFERENCES [Users] ([Id])
);
2025-04-08 16:14:41.757 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [Id] int NOT NULL IDENTITY,
    [MovieId] int NOT NULL,
    [User_ID] int NOT NULL,
    [Rating] int NOT NULL,
    [Comment] nvarchar(1000) NULL,
    [Created_At] datetime2 NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reviews_Movies_MovieId] FOREIGN KEY ([MovieId]) REFERENCES [Movies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_User_ID] FOREIGN KEY ([User_ID]) REFERENCES [Users] ([Id])
);
2025-04-08 16:14:41.760 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.762 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-04-08 16:14:41.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-04-08 16:14:41.768 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Likes] (
    [Id] int NOT NULL IDENTITY,
    [Review_ID] int NOT NULL,
    [User_ID] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Likes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Likes_Reviews_Review_ID] FOREIGN KEY ([Review_ID]) REFERENCES [Reviews] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Likes_Users_User_ID] FOREIGN KEY ([User_ID]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-04-08 16:14:41.772 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Likes] (
    [Id] int NOT NULL IDENTITY,
    [Review_ID] int NOT NULL,
    [User_ID] int NOT NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Likes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Likes_Reviews_Review_ID] FOREIGN KEY ([Review_ID]) REFERENCES [Reviews] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Likes_Users_User_ID] FOREIGN KEY ([User_ID]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-04-08 16:14:41.774 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.777 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-04-08 16:14:41.788 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ActorMovie_MoviesId] ON [ActorMovie] ([MoviesId]);
2025-04-08 16:14:41.792 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ActorMovie_MoviesId] ON [ActorMovie] ([MoviesId]);
2025-04-08 16:14:41.802 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.823 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (20ms).
2025-04-08 16:14:41.825 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (22ms).
2025-04-08 16:14:41.832 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Likes_Review_ID] ON [Likes] ([Review_ID]);
2025-04-08 16:14:41.841 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Likes_Review_ID] ON [Likes] ([Review_ID]);
2025-04-08 16:14:41.843 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.844 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-04-08 16:14:41.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-04-08 16:14:41.848 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Likes_User_ID] ON [Likes] ([User_ID]);
2025-04-08 16:14:41.850 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Likes_User_ID] ON [Likes] ([User_ID]);
2025-04-08 16:14:41.852 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.853 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-04-08 16:14:41.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.855 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Movies_Title] ON [Movies] ([Title]);
2025-04-08 16:14:41.858 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Movies_Title] ON [Movies] ([Title]);
2025-04-08 16:14:41.860 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.861 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-04-08 16:14:41.863 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-04-08 16:14:41.865 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_MovieId] ON [Reviews] ([MovieId]);
2025-04-08 16:14:41.869 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_MovieId] ON [Reviews] ([MovieId]);
2025-04-08 16:14:41.870 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.871 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-04-08 16:14:41.872 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.874 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_User_ID] ON [Reviews] ([User_ID]);
2025-04-08 16:14:41.884 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_User_ID] ON [Reviews] ([User_ID]);
2025-04-08 16:14:41.886 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.888 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-04-08 16:14:41.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-04-08 16:14:41.891 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-04-08 16:14:41.901 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-04-08 16:14:41.904 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-04-08 16:14:41.905 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-04-08 16:14:41.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-04-08 16:14:41.908 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2025-04-08 16:14:41.918 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2025-04-08 16:14:41.922 +03:00 [DBG] Committing transaction.
2025-04-08 16:14:41.938 +03:00 [DBG] Committed transaction.
2025-04-08 16:14:41.941 +03:00 [DBG] Disposing transaction.
2025-04-08 16:14:41.942 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:14:41.943 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:14:42.197 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-08 16:14:42.384 +03:00 [DBG] Hosting starting
2025-04-08 16:14:42.420 +03:00 [DBG] Middleware loaded
2025-04-08 16:14:42.425 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16511 B).
2025-04-08 16:14:42.428 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-08 16:14:42.647 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-08 16:14:42.887 +03:00 [INF] Now listening on: https://localhost:7171
2025-04-08 16:14:42.924 +03:00 [INF] Now listening on: http://localhost:5140
2025-04-08 16:14:42.927 +03:00 [DBG] Loaded hosting startup assembly CineVault.API
2025-04-08 16:14:42.932 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-08 16:14:42.933 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-08 16:14:42.934 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-08 16:14:43.178 +03:00 [DBG] Connection id "0HNBMJT9QCSRP" received FIN.
2025-04-08 16:14:43.182 +03:00 [DBG] Connection id "0HNBMJT9QCSRP" accepted.
2025-04-08 16:14:43.185 +03:00 [DBG] Connection id "0HNBMJT9QCSRP" started.
2025-04-08 16:14:43.203 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-08 16:14:43.204 +03:00 [INF] Hosting environment: Development
2025-04-08 16:14:43.205 +03:00 [INF] Content root path: C:\Users\Admin\Desktop\Навчанння\Розробка\cine-vault-rep\src\CineVault.API
2025-04-08 16:14:43.206 +03:00 [DBG] Hosting started
2025-04-08 16:14:43.217 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-08 16:14:43.290 +03:00 [DBG] Connection id "0HNBMJT9QCSRP" stopped.
2025-04-08 16:14:43.296 +03:00 [DBG] Connection id "0HNBMJT9QCSRP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-08 16:14:44.329 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ" accepted.
2025-04-08 16:14:44.331 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ" started.
2025-04-08 16:14:44.694 +03:00 [DBG] Connection 0HNBMJT9QCSRQ established using the following protocol: "Tls13"
2025-04-08 16:14:45.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger - null null
2025-04-08 16:14:45.561 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-08 16:14:45.720 +03:00 [DBG] No candidates found for the request path '/swagger'
2025-04-08 16:14:45.722 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:45.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger - 301 0 null 615.3996ms
2025-04-08 16:14:45.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.html - null null
2025-04-08 16:14:45.771 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-04-08 16:14:45.772 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:45.862 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-04-08 16:14:45.865 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-08 16:14:45.874 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-04-08 16:14:45.876 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-08 16:14:45.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.html - 200 null text/html;charset=utf-8 123.3818ms
2025-04-08 16:14:45.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/swagger-ui.css - null null
2025-04-08 16:14:45.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/swagger-ui-standalone-preset.js - null null
2025-04-08 16:14:45.909 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.js - null null
2025-04-08 16:14:45.970 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-04-08 16:14:45.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/index.css - null null
2025-04-08 16:14:45.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/swagger-ui-bundle.js - null null
2025-04-08 16:14:45.927 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-04-08 16:14:45.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - null null
2025-04-08 16:14:45.983 +03:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-04-08 16:14:45.985 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:45.987 +03:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-04-08 16:14:45.989 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-04-08 16:14:45.989 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:45.997 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:45.998 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:45.999 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:46.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.js - 200 null application/javascript;charset=utf-8 93.9572ms
2025-04-08 16:14:46.029 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-08 16:14:46.026 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-08 16:14:46.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/index.css - 200 202 text/css 140.0879ms
2025-04-08 16:14:46.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 83.0881ms
2025-04-08 16:14:46.086 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-08 16:14:46.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/swagger-ui.css - 200 152035 text/css 203.8063ms
2025-04-08 16:14:46.099 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-08 16:14:46.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/_vs/browserLink - null null
2025-04-08 16:14:46.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 228.2387ms
2025-04-08 16:14:46.232 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-08 16:14:46.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 328.0749ms
2025-04-08 16:14:46.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.8826ms
2025-04-08 16:14:46.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - null null
2025-04-08 16:14:46.470 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-04-08 16:14:46.472 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:46.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/favicon-32x32.png - null null
2025-04-08 16:14:46.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.2371ms
2025-04-08 16:14:46.789 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-04-08 16:14:46.816 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:14:46.817 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-08 16:14:46.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/favicon-32x32.png - 200 628 image/png 280.5515ms
2025-04-08 16:15:01.251 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7171/swagger/v2/swagger.json - null null
2025-04-08 16:15:01.268 +03:00 [DBG] No candidates found for the request path '/swagger/v2/swagger.json'
2025-04-08 16:15:01.269 +03:00 [DBG] Request did not match any endpoints
2025-04-08 16:15:01.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7171/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 72.351ms
2025-04-08 16:20:03.310 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Actors/CreateActors - application/json 1971
2025-04-08 16:20:03.343 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Actors/CreateActors'
2025-04-08 16:20:03.346 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.ActorsController.CreateActors (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Actors/CreateActors' is valid for the request path '/api/v2/Actors/CreateActors'
2025-04-08 16:20:03.353 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.ActorsController.CreateActors (CineVault.API)'
2025-04-08 16:20:03.356 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:20:03.362 +03:00 [INF] Req start: POST /api/v2/Actors/CreateActors
2025-04-08 16:20:03.366 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.ActorsController.CreateActors (CineVault.API)'
2025-04-08 16:20:03.407 +03:00 [INF] Route matched with {action = "CreateActors", controller = "Actors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Collections.Generic.ICollection`1[System.Int32]]]] CreateActors(CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]) on controller CineVault.API.Controllers.ActorsController (CineVault.API).
2025-04-08 16:20:03.410 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:20:03.411 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:20:03.413 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:20:03.415 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:20:03.417 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:20:03.421 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.ActorsController (CineVault.API)
2025-04-08 16:20:03.430 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.ActorsController (CineVault.API)
2025-04-08 16:20:03.453 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]' ...
2025-04-08 16:20:03.458 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]' using the name '' in request data ...
2025-04-08 16:20:03.461 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:20:03.490 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000019": started reading request body.
2025-04-08 16:20:03.491 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000019": done reading request body.
2025-04-08 16:20:03.518 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[System.Collections.Generic.ICollection`1[[CineVault.API.Controllers.Requests.ActorRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'
2025-04-08 16:20:03.520 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]'.
2025-04-08 16:20:03.521 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]'.
2025-04-08 16:20:03.522 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]' ...
2025-04-08 16:20:03.545 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.ActorRequest]]'.
2025-04-08 16:20:03.552 +03:00 [INF] CreateActors
2025-04-08 16:20:03.664 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:20:03.710 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482647' for the property 'Actor.Id'.
2025-04-08 16:20:03.779 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482647}'.
2025-04-08 16:20:03.784 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482646' for the property 'Actor.Id'.
2025-04-08 16:20:03.786 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482646}'.
2025-04-08 16:20:03.787 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482645' for the property 'Actor.Id'.
2025-04-08 16:20:03.789 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482645}'.
2025-04-08 16:20:03.790 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482644' for the property 'Actor.Id'.
2025-04-08 16:20:03.791 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482644}'.
2025-04-08 16:20:03.792 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482643' for the property 'Actor.Id'.
2025-04-08 16:20:03.793 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482643}'.
2025-04-08 16:20:03.795 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482642' for the property 'Actor.Id'.
2025-04-08 16:20:03.796 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482642}'.
2025-04-08 16:20:03.798 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482641' for the property 'Actor.Id'.
2025-04-08 16:20:03.800 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482641}'.
2025-04-08 16:20:03.802 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482640' for the property 'Actor.Id'.
2025-04-08 16:20:03.803 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: -2147482640}'.
2025-04-08 16:20:03.808 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-04-08 16:20:03.813 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-04-08 16:20:03.829 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-04-08 16:20:03.914 +03:00 [DBG] Executing 8 update commands as a batch.
2025-04-08 16:20:03.926 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:20:03.927 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-08 16:20:03.930 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:20:03.934 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:20:03.941 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:20:03.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:20:03.947 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-08 16:20:03.958 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='Leonardo DiCaprio is an American actor and film producer known for his roles in Titanic, Inception, and The Revenant.' (Size = 1000), @p1='11/11/1974' (DbType = Date), @p2='Leonardo DiCaprio' (Nullable = false) (Size = 100), @p3='False', @p4='Natalie Portman is an Oscar-winning actress known for her performances in Black Swan, V for Vendetta, and the Star Wars prequels.' (Size = 1000), @p5='06/09/1981' (DbType = Date), @p6='Natalie Portman' (Nullable = false) (Size = 100), @p7='False', @p8='Denzel Washington is a highly acclaimed American actor and director, known for his powerful roles in Training Day, Malcolm X, and Fences.' (Size = 1000), @p9='12/28/1954' (DbType = Date), @p10='Denzel Washington' (Nullable = false) (Size = 100), @p11='False', @p12='Emma Stone is an American actress known for her performances in La La Land, Easy A, and The Help.' (Size = 1000), @p13='11/06/1988' (DbType = Date), @p14='Emma Stone' (Nullable = false) (Size = 100), @p15='False', @p16='Keanu Reeves is a Canadian actor famous for his roles in The Matrix, John Wick, and Speed.' (Size = 1000), @p17='09/02/1964' (DbType = Date), @p18='Keanu Reeves' (Nullable = false) (Size = 100), @p19='False', @p20='Viola Davis is an award-winning actress known for her roles in Fences, The Help, and How to Get Away with Murder.' (Size = 1000), @p21='08/11/1965' (DbType = Date), @p22='Viola Davis' (Nullable = false) (Size = 100), @p23='False', @p24='Tom Hanks is one of America's most beloved actors, known for Forrest Gump, Cast Away, and Saving Private Ryan.' (Size = 1000), @p25='07/09/1956' (DbType = Date), @p26='Tom Hanks' (Nullable = false) (Size = 100), @p27='False', @p28='Scarlett Johansson is an American actress and singer known for her work in the Marvel Cinematic Universe and films like Lost in Translation and Marriage Story.' (Size = 1000), @p29='11/22/1984' (DbType = Date), @p30='Scarlett Johansson' (Nullable = false) (Size = 100), @p31='False'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Actors] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7)) AS i ([Biography], [BirthDate], [FullName], [IsDeleted], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Biography], [BirthDate], [FullName], [IsDeleted])
VALUES (i.[Biography], i.[BirthDate], i.[FullName], i.[IsDeleted])
OUTPUT INSERTED.[Id], i._Position;
2025-04-08 16:20:04.032 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='Leonardo DiCaprio is an American actor and film producer known for his roles in Titanic, Inception, and The Revenant.' (Size = 1000), @p1='11/11/1974' (DbType = Date), @p2='Leonardo DiCaprio' (Nullable = false) (Size = 100), @p3='False', @p4='Natalie Portman is an Oscar-winning actress known for her performances in Black Swan, V for Vendetta, and the Star Wars prequels.' (Size = 1000), @p5='06/09/1981' (DbType = Date), @p6='Natalie Portman' (Nullable = false) (Size = 100), @p7='False', @p8='Denzel Washington is a highly acclaimed American actor and director, known for his powerful roles in Training Day, Malcolm X, and Fences.' (Size = 1000), @p9='12/28/1954' (DbType = Date), @p10='Denzel Washington' (Nullable = false) (Size = 100), @p11='False', @p12='Emma Stone is an American actress known for her performances in La La Land, Easy A, and The Help.' (Size = 1000), @p13='11/06/1988' (DbType = Date), @p14='Emma Stone' (Nullable = false) (Size = 100), @p15='False', @p16='Keanu Reeves is a Canadian actor famous for his roles in The Matrix, John Wick, and Speed.' (Size = 1000), @p17='09/02/1964' (DbType = Date), @p18='Keanu Reeves' (Nullable = false) (Size = 100), @p19='False', @p20='Viola Davis is an award-winning actress known for her roles in Fences, The Help, and How to Get Away with Murder.' (Size = 1000), @p21='08/11/1965' (DbType = Date), @p22='Viola Davis' (Nullable = false) (Size = 100), @p23='False', @p24='Tom Hanks is one of America's most beloved actors, known for Forrest Gump, Cast Away, and Saving Private Ryan.' (Size = 1000), @p25='07/09/1956' (DbType = Date), @p26='Tom Hanks' (Nullable = false) (Size = 100), @p27='False', @p28='Scarlett Johansson is an American actress and singer known for her work in the Marvel Cinematic Universe and films like Lost in Translation and Marriage Story.' (Size = 1000), @p29='11/22/1984' (DbType = Date), @p30='Scarlett Johansson' (Nullable = false) (Size = 100), @p31='False'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Actors] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7)) AS i ([Biography], [BirthDate], [FullName], [IsDeleted], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Biography], [BirthDate], [FullName], [IsDeleted])
VALUES (i.[Biography], i.[BirthDate], i.[FullName], i.[IsDeleted])
OUTPUT INSERTED.[Id], i._Position;
2025-04-08 16:20:04.060 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482647' to '1' for entity with key '{Id: 1}'.
2025-04-08 16:20:04.068 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482646' to '2' for entity with key '{Id: 2}'.
2025-04-08 16:20:04.070 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482645' to '3' for entity with key '{Id: 3}'.
2025-04-08 16:20:04.071 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482644' to '4' for entity with key '{Id: 4}'.
2025-04-08 16:20:04.073 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482643' to '5' for entity with key '{Id: 5}'.
2025-04-08 16:20:04.074 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482642' to '6' for entity with key '{Id: 6}'.
2025-04-08 16:20:04.076 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482641' to '7' for entity with key '{Id: 7}'.
2025-04-08 16:20:04.077 +03:00 [DBG] The foreign key property 'Actor.Id' was detected as changed from '-2147482640' to '8' for entity with key '{Id: 8}'.
2025-04-08 16:20:04.089 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:20:04.098 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 60ms reading results.
2025-04-08 16:20:04.103 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:20:04.105 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (2ms).
2025-04-08 16:20:04.117 +03:00 [DBG] The 'Actor' entity with key '{Id: 1}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.119 +03:00 [DBG] The 'Actor' entity with key '{Id: 2}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.120 +03:00 [DBG] The 'Actor' entity with key '{Id: 3}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.125 +03:00 [DBG] The 'Actor' entity with key '{Id: 4}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.128 +03:00 [DBG] The 'Actor' entity with key '{Id: 5}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.129 +03:00 [DBG] The 'Actor' entity with key '{Id: 6}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.131 +03:00 [DBG] The 'Actor' entity with key '{Id: 7}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.134 +03:00 [DBG] The 'Actor' entity with key '{Id: 8}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:20:04.139 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 8 entities written to the database.
2025-04-08 16:20:04.148 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:20:04.155 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:20:04.158 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:20:04.159 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:20:04.160 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:20:04.163 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:20:04.174 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Collections.Generic.ICollection`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:20:04.226 +03:00 [INF] Executed action CineVault.API.Controllers.ActorsController.CreateActors (CineVault.API) in 802.9874ms
2025-04-08 16:20:04.228 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.ActorsController.CreateActors (CineVault.API)'
2025-04-08 16:20:04.229 +03:00 [INF] Req done: POST /api/v2/Actors/CreateActors 200 in 867 ms
2025-04-08 16:20:04.236 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:20:04.245 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:20:04.247 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-08 16:20:04.256 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Actors/CreateActors - 200 null application/json; charset=utf-8 945.1958ms
2025-04-08 16:21:47.826 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Actors/GetActors - application/json 174
2025-04-08 16:21:47.837 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Actors/GetActors'
2025-04-08 16:21:47.838 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.ActorsController.GetActors (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Actors/GetActors' is valid for the request path '/api/v2/Actors/GetActors'
2025-04-08 16:21:47.839 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.ActorsController.GetActors (CineVault.API)'
2025-04-08 16:21:47.840 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:21:47.845 +03:00 [INF] Req start: POST /api/v2/Actors/GetActors
2025-04-08 16:21:47.849 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.ActorsController.GetActors (CineVault.API)'
2025-04-08 16:21:47.860 +03:00 [INF] Route matched with {action = "GetActors", controller = "Actors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Responses.ActorResponse]]]] GetActors(CineVault.API.Controllers.Requests.ApiRequest) on controller CineVault.API.Controllers.ActorsController (CineVault.API).
2025-04-08 16:21:47.861 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:21:47.862 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:21:47.863 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:21:47.865 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:21:47.866 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:21:47.869 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.ActorsController (CineVault.API)
2025-04-08 16:21:47.874 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.ActorsController (CineVault.API)
2025-04-08 16:21:47.875 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:21:47.876 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' using the name '' in request data ...
2025-04-08 16:21:47.878 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:21:47.880 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000001B": started reading request body.
2025-04-08 16:21:47.881 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000001B": done reading request body.
2025-04-08 16:21:47.885 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest'
2025-04-08 16:21:47.886 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:21:47.887 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:21:47.888 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:21:47.890 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:21:47.893 +03:00 [INF] GetActors
2025-04-08 16:21:47.949 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:21:47.981 +03:00 [DBG] Compiling query expression: 
'DbSet<Actor>()'
2025-04-08 16:21:48.249 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Actor>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Actor.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Actor.Biography (string) MaxLength(1000), 1], [Property: Actor.BirthDate (DateOnly) Required, 2], [Property: Actor.FullName (string) Required MaxLength(100), 3], [Property: Actor.IsDeleted (bool) Required, 4] }
        SELECT a.Id, a.Biography, a.BirthDate, a.FullName, a.IsDeleted
        FROM Actors AS a
        WHERE Not(a.IsDeleted)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Actor.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Actor.Biography (string) MaxLength(1000), 1], [Property: Actor.BirthDate (DateOnly) Required, 2], [Property: Actor.FullName (string) Required MaxLength(100), 3], [Property: Actor.IsDeleted (bool) Required, 4] }
        SELECT a.Id, a.Biography, a.BirthDate, a.FullName, a.IsDeleted
        FROM Actors AS a
        WHERE Not(a.IsDeleted), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Actor entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Actor instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Actor);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Actor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Actor").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Actor)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Actor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Actor")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Actor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Actor")]: 
                        {
                            return 
                            {
                                Actor instance;
                                instance = new Actor();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Biography>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<BirthDate>k__BackingField = dataReader.GetFieldValue<DateOnly>(2);
                                instance.<FullName>k__BackingField = dataReader.GetString(3);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Actor | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Actor")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Actor)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CineVault.API.Entities.CineVaultDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-08 16:21:48.285 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:21:48.286 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-08 16:21:48.287 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:21:48.288 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:21:48.288 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:21:48.290 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:21:48.291 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-08 16:21:48.295 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[BirthDate], [a].[FullName], [a].[IsDeleted]
FROM [Actors] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit)
2025-04-08 16:21:48.304 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[BirthDate], [a].[FullName], [a].[IsDeleted]
FROM [Actors] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit)
2025-04-08 16:21:48.316 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 1}'.
2025-04-08 16:21:48.321 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 2}'.
2025-04-08 16:21:48.323 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 3}'.
2025-04-08 16:21:48.324 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 4}'.
2025-04-08 16:21:48.325 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 5}'.
2025-04-08 16:21:48.326 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 6}'.
2025-04-08 16:21:48.327 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 7}'.
2025-04-08 16:21:48.328 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Actor' entity with key '{Id: 8}'.
2025-04-08 16:21:48.330 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:21:48.331 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 21ms reading results.
2025-04-08 16:21:48.333 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:21:48.337 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (4ms).
2025-04-08 16:21:48.347 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:21:48.349 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:21:48.351 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:21:48.353 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:21:48.354 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:21:48.355 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:21:48.356 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Collections.Generic.ICollection`1[[CineVault.API.Controllers.Responses.ActorResponse, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:21:48.363 +03:00 [INF] Executed action CineVault.API.Controllers.ActorsController.GetActors (CineVault.API) in 494.9538ms
2025-04-08 16:21:48.364 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.ActorsController.GetActors (CineVault.API)'
2025-04-08 16:21:48.365 +03:00 [INF] Req done: POST /api/v2/Actors/GetActors 200 in 520 ms
2025-04-08 16:21:48.367 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:21:48.368 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:21:48.370 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-08 16:21:48.371 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Actors/GetActors - 200 null application/json; charset=utf-8 544.4287ms
2025-04-08 16:23:27.971 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Movies/CreateMovies - application/json 3143
2025-04-08 16:23:28.030 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Movies/CreateMovies'
2025-04-08 16:23:28.031 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.CreateMovies (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Movies/CreateMovies' is valid for the request path '/api/v2/Movies/CreateMovies'
2025-04-08 16:23:28.033 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.MoviesController.CreateMovies (CineVault.API)'
2025-04-08 16:23:28.038 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:23:28.048 +03:00 [INF] Req start: POST /api/v2/Movies/CreateMovies
2025-04-08 16:23:28.059 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.MoviesController.CreateMovies (CineVault.API)'
2025-04-08 16:23:28.065 +03:00 [INF] Route matched with {action = "CreateMovies", controller = "Movies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Collections.Generic.ICollection`1[System.Int32]]]] CreateMovies(CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]) on controller CineVault.API.Controllers.MoviesController (CineVault.API).
2025-04-08 16:23:28.068 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:23:28.070 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:23:28.072 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:23:28.074 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:23:28.076 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:23:28.078 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-04-08 16:23:28.083 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-04-08 16:23:28.089 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]' ...
2025-04-08 16:23:28.093 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]' using the name '' in request data ...
2025-04-08 16:23:28.096 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:23:28.141 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000001D": started reading request body.
2025-04-08 16:23:28.143 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000001D": done reading request body.
2025-04-08 16:23:28.149 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[System.Collections.Generic.ICollection`1[[CineVault.API.Controllers.Requests.MovieRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'
2025-04-08 16:23:28.150 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]'.
2025-04-08 16:23:28.151 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]'.
2025-04-08 16:23:28.153 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]' ...
2025-04-08 16:23:28.158 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Requests.MovieRequest]]'.
2025-04-08 16:23:28.163 +03:00 [INF] CreateMovies
2025-04-08 16:23:28.191 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:23:28.205 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482647' for the property 'Movie.Id'.
2025-04-08 16:23:28.233 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482647}'.
2025-04-08 16:23:28.236 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482646' for the property 'Movie.Id'.
2025-04-08 16:23:28.237 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482646}'.
2025-04-08 16:23:28.238 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482645' for the property 'Movie.Id'.
2025-04-08 16:23:28.240 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482645}'.
2025-04-08 16:23:28.241 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482644' for the property 'Movie.Id'.
2025-04-08 16:23:28.243 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482644}'.
2025-04-08 16:23:28.245 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482643' for the property 'Movie.Id'.
2025-04-08 16:23:28.246 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482643}'.
2025-04-08 16:23:28.248 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482642' for the property 'Movie.Id'.
2025-04-08 16:23:28.249 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482642}'.
2025-04-08 16:23:28.255 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482641' for the property 'Movie.Id'.
2025-04-08 16:23:28.257 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482641}'.
2025-04-08 16:23:28.259 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482640' for the property 'Movie.Id'.
2025-04-08 16:23:28.261 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482640}'.
2025-04-08 16:23:28.263 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482639' for the property 'Movie.Id'.
2025-04-08 16:23:28.264 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482639}'.
2025-04-08 16:23:28.265 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482638' for the property 'Movie.Id'.
2025-04-08 16:23:28.266 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: -2147482638}'.
2025-04-08 16:23:28.268 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-04-08 16:23:28.271 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-04-08 16:23:28.281 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-04-08 16:23:28.284 +03:00 [DBG] Executing 10 update commands as a batch.
2025-04-08 16:23:28.288 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:23:28.289 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-08 16:23:28.290 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:23:28.292 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:23:28.294 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:23:28.295 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:23:28.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-08 16:23:28.298 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.' (Size = 1000), @p1='Lana Wachowski, Lilly Wachowski' (Size = 100), @p2='Action' (Size = 100), @p3='False', @p4='03/31/1999' (Nullable = true) (DbType = Date), @p5='The Matrix' (Nullable = false) (Size = 100), @p6='A thief who enters the dreams of others to steal secrets from their subconscious is given the inverse task of planting an idea into the mind of a CEO.' (Size = 1000), @p7='Christopher Nolan' (Size = 100), @p8='Sci-Fi' (Size = 100), @p9='False', @p10='07/16/2010' (Nullable = true) (DbType = Date), @p11='Inception' (Nullable = false) (Size = 100), @p12='A former Roman General sets out to exact vengeance against the corrupt emperor who murdered his family and sent him into slavery.' (Size = 1000), @p13='Ridley Scott' (Size = 100), @p14='Action' (Size = 100), @p15='False', @p16='05/05/2000' (Nullable = true) (DbType = Date), @p17='Gladiator' (Nullable = false) (Size = 100), @p18='When the menace known as The Joker emerges from his mysterious past, he wreaks havoc and chaos on the people of Gotham.' (Size = 1000), @p19='Christopher Nolan' (Size = 100), @p20='Action' (Size = 100), @p21='False', @p22='07/18/2008' (Nullable = true) (DbType = Date), @p23='The Dark Knight' (Nullable = false) (Size = 100), @p24='An insomniac office worker forms an underground fight club with a soap salesman, leading to unintended consequences.' (Size = 1000), @p25='David Fincher' (Size = 100), @p26='Drama' (Size = 100), @p27='False', @p28='10/15/1999' (Nullable = true) (DbType = Date), @p29='Fight Club' (Nullable = false) (Size = 100), @p30='Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.' (Size = 1000), @p31='Frank Darabont' (Size = 100), @p32='Drama' (Size = 100), @p33='False', @p34='09/23/1994' (Nullable = true) (DbType = Date), @p35='The Shawshank Redemption' (Nullable = false) (Size = 100), @p36='During a preview tour, a theme park suffers a major power breakdown that allows its cloned dinosaur exhibits to run wild.' (Size = 1000), @p37='Steven Spielberg' (Size = 100), @p38='Adventure' (Size = 100), @p39='False', @p40='06/11/1993' (Nullable = true) (DbType = Date), @p41='Jurassic Park' (Nullable = false) (Size = 100), @p42='An undercover cop and a mole in the police attempt to identify each other while infiltrating an Irish gang in Boston.' (Size = 1000), @p43='Martin Scorsese' (Size = 100), @p44='Crime' (Size = 100), @p45='False', @p46='10/06/2006' (Nullable = true) (DbType = Date), @p47='The Departed' (Nullable = false) (Size = 100), @p48='A paraplegic Marine dispatched to the moon Pandora on a unique mission becomes torn between following his orders and protecting the world he feels is his home.' (Size = 1000), @p49='James Cameron' (Size = 100), @p50='Action' (Size = 100), @p51='False', @p52='12/18/2009' (Nullable = true) (DbType = Date), @p53='Avatar' (Nullable = false) (Size = 100), @p54='A lion prince, Simba, is cast out of his pride lands only to learn the true meaning of responsibility and bravery.' (Size = 1000), @p55='Roger Allers, Rob Minkoff' (Size = 100), @p56='Animation' (Size = 100), @p57='False', @p58='06/24/1994' (Nullable = true) (DbType = Date), @p59='The Lion King' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Movies] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9)) AS i ([Description], [Director], [Genre], [IsDeleted], [ReleaseDate], [Title], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Description], [Director], [Genre], [IsDeleted], [ReleaseDate], [Title])
VALUES (i.[Description], i.[Director], i.[Genre], i.[IsDeleted], i.[ReleaseDate], i.[Title])
OUTPUT INSERTED.[Id], i._Position;
2025-04-08 16:23:28.310 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.' (Size = 1000), @p1='Lana Wachowski, Lilly Wachowski' (Size = 100), @p2='Action' (Size = 100), @p3='False', @p4='03/31/1999' (Nullable = true) (DbType = Date), @p5='The Matrix' (Nullable = false) (Size = 100), @p6='A thief who enters the dreams of others to steal secrets from their subconscious is given the inverse task of planting an idea into the mind of a CEO.' (Size = 1000), @p7='Christopher Nolan' (Size = 100), @p8='Sci-Fi' (Size = 100), @p9='False', @p10='07/16/2010' (Nullable = true) (DbType = Date), @p11='Inception' (Nullable = false) (Size = 100), @p12='A former Roman General sets out to exact vengeance against the corrupt emperor who murdered his family and sent him into slavery.' (Size = 1000), @p13='Ridley Scott' (Size = 100), @p14='Action' (Size = 100), @p15='False', @p16='05/05/2000' (Nullable = true) (DbType = Date), @p17='Gladiator' (Nullable = false) (Size = 100), @p18='When the menace known as The Joker emerges from his mysterious past, he wreaks havoc and chaos on the people of Gotham.' (Size = 1000), @p19='Christopher Nolan' (Size = 100), @p20='Action' (Size = 100), @p21='False', @p22='07/18/2008' (Nullable = true) (DbType = Date), @p23='The Dark Knight' (Nullable = false) (Size = 100), @p24='An insomniac office worker forms an underground fight club with a soap salesman, leading to unintended consequences.' (Size = 1000), @p25='David Fincher' (Size = 100), @p26='Drama' (Size = 100), @p27='False', @p28='10/15/1999' (Nullable = true) (DbType = Date), @p29='Fight Club' (Nullable = false) (Size = 100), @p30='Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.' (Size = 1000), @p31='Frank Darabont' (Size = 100), @p32='Drama' (Size = 100), @p33='False', @p34='09/23/1994' (Nullable = true) (DbType = Date), @p35='The Shawshank Redemption' (Nullable = false) (Size = 100), @p36='During a preview tour, a theme park suffers a major power breakdown that allows its cloned dinosaur exhibits to run wild.' (Size = 1000), @p37='Steven Spielberg' (Size = 100), @p38='Adventure' (Size = 100), @p39='False', @p40='06/11/1993' (Nullable = true) (DbType = Date), @p41='Jurassic Park' (Nullable = false) (Size = 100), @p42='An undercover cop and a mole in the police attempt to identify each other while infiltrating an Irish gang in Boston.' (Size = 1000), @p43='Martin Scorsese' (Size = 100), @p44='Crime' (Size = 100), @p45='False', @p46='10/06/2006' (Nullable = true) (DbType = Date), @p47='The Departed' (Nullable = false) (Size = 100), @p48='A paraplegic Marine dispatched to the moon Pandora on a unique mission becomes torn between following his orders and protecting the world he feels is his home.' (Size = 1000), @p49='James Cameron' (Size = 100), @p50='Action' (Size = 100), @p51='False', @p52='12/18/2009' (Nullable = true) (DbType = Date), @p53='Avatar' (Nullable = false) (Size = 100), @p54='A lion prince, Simba, is cast out of his pride lands only to learn the true meaning of responsibility and bravery.' (Size = 1000), @p55='Roger Allers, Rob Minkoff' (Size = 100), @p56='Animation' (Size = 100), @p57='False', @p58='06/24/1994' (Nullable = true) (DbType = Date), @p59='The Lion King' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Movies] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9)) AS i ([Description], [Director], [Genre], [IsDeleted], [ReleaseDate], [Title], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Description], [Director], [Genre], [IsDeleted], [ReleaseDate], [Title])
VALUES (i.[Description], i.[Director], i.[Genre], i.[IsDeleted], i.[ReleaseDate], i.[Title])
OUTPUT INSERTED.[Id], i._Position;
2025-04-08 16:23:28.320 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482647' to '1' for entity with key '{Id: 1}'.
2025-04-08 16:23:28.323 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482646' to '2' for entity with key '{Id: 2}'.
2025-04-08 16:23:28.324 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482645' to '3' for entity with key '{Id: 3}'.
2025-04-08 16:23:28.326 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482644' to '4' for entity with key '{Id: 4}'.
2025-04-08 16:23:28.328 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482643' to '5' for entity with key '{Id: 5}'.
2025-04-08 16:23:28.329 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482642' to '6' for entity with key '{Id: 6}'.
2025-04-08 16:23:28.331 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482641' to '7' for entity with key '{Id: 7}'.
2025-04-08 16:23:28.333 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482640' to '8' for entity with key '{Id: 8}'.
2025-04-08 16:23:28.335 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482639' to '9' for entity with key '{Id: 9}'.
2025-04-08 16:23:28.337 +03:00 [DBG] The foreign key property 'Movie.Id' was detected as changed from '-2147482638' to '10' for entity with key '{Id: 10}'.
2025-04-08 16:23:28.339 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:23:28.340 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 22ms reading results.
2025-04-08 16:23:28.341 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:23:28.342 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:23:28.344 +03:00 [DBG] The 'Movie' entity with key '{Id: 1}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.345 +03:00 [DBG] The 'Movie' entity with key '{Id: 2}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.347 +03:00 [DBG] The 'Movie' entity with key '{Id: 3}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.349 +03:00 [DBG] The 'Movie' entity with key '{Id: 4}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.351 +03:00 [DBG] The 'Movie' entity with key '{Id: 5}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.354 +03:00 [DBG] The 'Movie' entity with key '{Id: 6}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.355 +03:00 [DBG] The 'Movie' entity with key '{Id: 7}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.358 +03:00 [DBG] The 'Movie' entity with key '{Id: 8}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.360 +03:00 [DBG] The 'Movie' entity with key '{Id: 9}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.362 +03:00 [DBG] The 'Movie' entity with key '{Id: 10}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:23:28.364 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 10 entities written to the database.
2025-04-08 16:23:28.366 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:23:28.369 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:23:28.370 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:23:28.370 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:23:28.371 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:23:28.372 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:23:28.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Collections.Generic.ICollection`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:23:28.374 +03:00 [INF] Executed action CineVault.API.Controllers.MoviesController.CreateMovies (CineVault.API) in 296.3474ms
2025-04-08 16:23:28.381 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.MoviesController.CreateMovies (CineVault.API)'
2025-04-08 16:23:28.381 +03:00 [INF] Req done: POST /api/v2/Movies/CreateMovies 200 in 333 ms
2025-04-08 16:23:28.383 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:23:28.384 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:23:28.387 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-08 16:23:28.388 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Movies/CreateMovies - 200 null application/json; charset=utf-8 417.5388ms
2025-04-08 16:24:20.870 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Users/CreateUser - application/json 279
2025-04-08 16:24:20.897 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Users/CreateUser'
2025-04-08 16:24:20.899 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/CreateUser' is valid for the request path '/api/v2/Users/CreateUser'
2025-04-08 16:24:20.901 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/CreateUser' is valid for the request path '/api/v2/Users/CreateUser'
2025-04-08 16:24:20.903 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-04-08 16:24:20.904 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:24:20.905 +03:00 [INF] Req start: POST /api/v2/Users/CreateUser
2025-04-08 16:24:20.907 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-04-08 16:24:20.910 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] CreateUser(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]) on controller CineVault.API.Controllers.UsersController (CineVault.API).
2025-04-08 16:24:20.912 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:24:20.913 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:24:20.914 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:24:20.916 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:24:20.917 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:24:20.918 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:24:20.920 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:24:20.922 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' ...
2025-04-08 16:24:20.923 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' using the name '' in request data ...
2025-04-08 16:24:20.924 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:24:20.926 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000001F": started reading request body.
2025-04-08 16:24:20.927 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000001F": done reading request body.
2025-04-08 16:24:20.930 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.UserRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-04-08 16:24:20.930 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-04-08 16:24:20.931 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-04-08 16:24:20.933 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' ...
2025-04-08 16:24:20.939 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-04-08 16:24:20.942 +03:00 [INF] CreateUser username:Kateryna2006
2025-04-08 16:24:20.946 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:24:20.949 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482647' for the property 'User.Id'.
2025-04-08 16:24:20.963 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'User' entity with key '{Id: -2147482647}'.
2025-04-08 16:24:20.965 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-04-08 16:24:20.966 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-04-08 16:24:20.976 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-04-08 16:24:20.981 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:24:20.982 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:24:20.983 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:24:20.984 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:24:20.985 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:24:20.986 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:24:20.988 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-08 16:24:20.989 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='2025-04-08T13:24:20.9457035Z', @p1='kate@gmail.com' (Nullable = false) (Size = 100), @p2='False', @p3='123456' (Nullable = false) (Size = 100), @p4='Kateryna2006' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Created_At], [Email], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-08 16:24:21.006 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='2025-04-08T13:24:20.9457035Z', @p1='kate@gmail.com' (Nullable = false) (Size = 100), @p2='False', @p3='123456' (Nullable = false) (Size = 100), @p4='Kateryna2006' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Created_At], [Email], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-08 16:24:21.009 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed from '-2147482647' to '1' for entity with key '{Id: 1}'.
2025-04-08 16:24:21.010 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:24:21.011 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 3ms reading results.
2025-04-08 16:24:21.012 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:24:21.014 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:24:21.018 +03:00 [DBG] The 'User' entity with key '{Id: 1}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:24:21.021 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-04-08 16:24:21.023 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:24:21.025 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:24:21.026 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:24:21.027 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:24:21.027 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:24:21.028 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:24:21.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:24:21.032 +03:00 [INF] Executed action CineVault.API.Controllers.UsersController.CreateUser (CineVault.API) in 113.8864ms
2025-04-08 16:24:21.039 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-04-08 16:24:21.039 +03:00 [INF] Req done: POST /api/v2/Users/CreateUser 200 in 133 ms
2025-04-08 16:24:21.040 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:24:21.042 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:24:21.043 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-04-08 16:24:21.044 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Users/CreateUser - 200 null application/json; charset=utf-8 174.5295ms
2025-04-08 16:25:12.705 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Reviews/CreateReview - application/json 278
2025-04-08 16:25:12.713 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Reviews/CreateReview'
2025-04-08 16:25:12.714 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Reviews/CreateReview' is valid for the request path '/api/v2/Reviews/CreateReview'
2025-04-08 16:25:12.716 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Reviews/CreateReview' is valid for the request path '/api/v2/Reviews/CreateReview'
2025-04-08 16:25:12.717 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)'
2025-04-08 16:25:12.718 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:25:12.718 +03:00 [INF] Req start: POST /api/v2/Reviews/CreateReview
2025-04-08 16:25:12.720 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)'
2025-04-08 16:25:12.725 +03:00 [INF] Route matched with {action = "CreateReview", controller = "Reviews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] CreateReview(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]) on controller CineVault.API.Controllers.ReviewsController (CineVault.API).
2025-04-08 16:25:12.727 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:25:12.728 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:25:12.730 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:25:12.732 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:25:12.733 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:25:12.735 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.ReviewsController (CineVault.API)
2025-04-08 16:25:12.737 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.ReviewsController (CineVault.API)
2025-04-08 16:25:12.738 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]' ...
2025-04-08 16:25:12.739 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]' using the name '' in request data ...
2025-04-08 16:25:12.741 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:25:12.744 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000021": started reading request body.
2025-04-08 16:25:12.745 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000021": done reading request body.
2025-04-08 16:25:12.751 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.ReviewRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-04-08 16:25:12.752 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]'.
2025-04-08 16:25:12.753 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]'.
2025-04-08 16:25:12.757 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]' ...
2025-04-08 16:25:12.761 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.ReviewRequest]'.
2025-04-08 16:25:12.764 +03:00 [INF] CreateReview movieId:1 userId:1
2025-04-08 16:25:12.767 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:25:12.780 +03:00 [DBG] Compiling query expression: 
'DbSet<Review>()
    .Where(r => r.MovieId == __request_Data_MovieId_0 && r.UserId == __request_Data_UserId_1)
    .FirstOrDefault()'
2025-04-08 16:25:12.817 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Review>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Review>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Review.Comment (string) MaxLength(1000), 1], [Property: Review.CreatedAt (DateTime) Required, 2], [Property: Review.IsDeleted (bool) Required, 3], [Property: Review.MovieId (int) Required FK Index, 4], [Property: Review.Rating (int) Required, 5], [Property: Review.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID
            FROM Reviews AS r
            WHERE Not(r.IsDeleted) && ((r.MovieId == @__request_Data_MovieId_0) && (r.User_ID == @__request_Data_UserId_1))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Review.Comment (string) MaxLength(1000), 1], [Property: Review.CreatedAt (DateTime) Required, 2], [Property: Review.IsDeleted (bool) Required, 3], [Property: Review.MovieId (int) Required FK Index, 4], [Property: Review.Rating (int) Required, 5], [Property: Review.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID
            FROM Reviews AS r
            WHERE Not(r.IsDeleted) && ((r.MovieId == @__request_Data_MovieId_0) && (r.User_ID == @__request_Data_UserId_1)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Review entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Review instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Review);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Review.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Review)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]: 
                            {
                                return 
                                {
                                    Review instance;
                                    instance = new Review();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Comment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(3);
                                    instance.<MovieId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<Rating>k__BackingField = dataReader.GetInt32(5);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Review)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CineVault.API.Entities.CineVaultDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-08 16:25:12.831 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:25:12.832 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-08 16:25:12.833 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.834 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.836 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:25:12.837 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:25:12.838 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-08 16:25:12.840 +03:00 [DBG] Executing DbCommand [Parameters=[@__request_Data_MovieId_0='1', @__request_Data_UserId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID]
FROM [Reviews] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[MovieId] = @__request_Data_MovieId_0 AND [r].[User_ID] = @__request_Data_UserId_1
2025-04-08 16:25:12.847 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Data_MovieId_0='1', @__request_Data_UserId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID]
FROM [Reviews] AS [r]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[MovieId] = @__request_Data_MovieId_0 AND [r].[User_ID] = @__request_Data_UserId_1
2025-04-08 16:25:12.857 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.858 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 2ms reading results.
2025-04-08 16:25:12.859 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.860 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (0ms).
2025-04-08 16:25:12.865 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482647' for the property 'Review.Id'.
2025-04-08 16:25:12.879 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Review' entity with key '{Id: -2147482647}'.
2025-04-08 16:25:12.881 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-04-08 16:25:12.882 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-04-08 16:25:12.891 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-04-08 16:25:12.894 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.895 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.896 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:25:12.897 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:25:12.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:25:12.899 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='It's a good movie' (Size = 1000), @p1='2025-04-08T13:25:12.8642870Z', @p2='False', @p3='1', @p4='8', @p5='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reviews] ([Comment], [Created_At], [IsDeleted], [MovieId], [Rating], [User_ID])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-08 16:25:12.903 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='It's a good movie' (Size = 1000), @p1='2025-04-08T13:25:12.8642870Z', @p2='False', @p3='1', @p4='8', @p5='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reviews] ([Comment], [Created_At], [IsDeleted], [MovieId], [Rating], [User_ID])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-08 16:25:12.907 +03:00 [DBG] The foreign key property 'Review.Id' was detected as changed from '-2147482647' to '1' for entity with key '{Id: 1}'.
2025-04-08 16:25:12.909 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.910 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 5ms reading results.
2025-04-08 16:25:12.911 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.912 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (0ms).
2025-04-08 16:25:12.915 +03:00 [DBG] The 'Review' entity with key '{Id: 1}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:25:12.916 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-04-08 16:25:12.918 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:25:12.921 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:25:12.923 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:25:12.924 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:25:12.925 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:25:12.926 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:25:12.926 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:25:12.927 +03:00 [INF] Executed action CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API) in 192.4132ms
2025-04-08 16:25:12.928 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.ReviewsController.CreateReview (CineVault.API)'
2025-04-08 16:25:12.930 +03:00 [INF] Req done: POST /api/v2/Reviews/CreateReview 200 in 211 ms
2025-04-08 16:25:12.932 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:25:12.936 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:25:12.938 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-08 16:25:12.940 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Reviews/CreateReview - 200 null application/json; charset=utf-8 234.8538ms
2025-04-08 16:26:02.226 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Movies/GetMovieDetails/1 - application/json 174
2025-04-08 16:26:02.238 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Movies/GetMovieDetails/1'
2025-04-08 16:26:02.239 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.GetMovieDetails (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Movies/GetMovieDetails/{id}' is valid for the request path '/api/v2/Movies/GetMovieDetails/1'
2025-04-08 16:26:02.241 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.MoviesController.GetMovieDetails (CineVault.API)'
2025-04-08 16:26:02.243 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:26:02.245 +03:00 [INF] Req start: POST /api/v2/Movies/GetMovieDetails/1
2025-04-08 16:26:02.246 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.MoviesController.GetMovieDetails (CineVault.API)'
2025-04-08 16:26:02.253 +03:00 [INF] Route matched with {action = "GetMovieDetails", controller = "Movies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[CineVault.API.Controllers.Responses.GetMovieDetailsResponse]]] GetMovieDetails(Int32, CineVault.API.Controllers.Requests.ApiRequest) on controller CineVault.API.Controllers.MoviesController (CineVault.API).
2025-04-08 16:26:02.254 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:26:02.255 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:26:02.256 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:26:02.257 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:26:02.259 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:26:02.260 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-04-08 16:26:02.263 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-04-08 16:26:02.265 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-08 16:26:02.267 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-08 16:26:02.269 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-08 16:26:02.271 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-08 16:26:02.272 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-08 16:26:02.277 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-08 16:26:02.279 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:26:02.280 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' using the name '' in request data ...
2025-04-08 16:26:02.282 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:26:02.283 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000023": started reading request body.
2025-04-08 16:26:02.284 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000023": done reading request body.
2025-04-08 16:26:02.285 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest'
2025-04-08 16:26:02.286 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:26:02.287 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:26:02.289 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:26:02.290 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:26:02.294 +03:00 [INF] GetMovieDetails id:1
2025-04-08 16:26:02.296 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:26:02.302 +03:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(m => m.Reviews)
    .ThenInclude(r => r.User)
    .FirstOrDefault(m => m.Id == __id_0)'
2025-04-08 16:26:02.313 +03:00 [DBG] Including navigation: 'Movie.Reviews'.
2025-04-08 16:26:02.324 +03:00 [DBG] Including navigation: 'Review.User'.
2025-04-08 16:26:02.428 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Movie>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Movie>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movie.Description (string) MaxLength(1000), 1], [Property: Movie.Director (string) MaxLength(100), 2], [Property: Movie.Genre (string) MaxLength(100), 3], [Property: Movie.IsDeleted (bool) Required, 4], [Property: Movie.ReleaseDate (DateOnly?), 5], [Property: Movie.Title (string) Required Index MaxLength(100), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Review.Comment (string) MaxLength(1000), 8], [Property: Review.CreatedAt (DateTime) Required, 9], [Property: Review.IsDeleted (bool) Required, 10], [Property: Review.MovieId (int) Required FK Index, 11], [Property: Review.Rating (int) Required, 12], [Property: Review.UserId (int) Required FK Index, 13] }
                3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: User.CreatedAt (DateTime) Required, 15], [Property: User.Email (string) Required Index MaxLength(100), 16], [Property: User.IsDeleted (bool) Required, 17], [Property: User.Password (string) Required MaxLength(100), 18], [Property: User.Username (string) Required Index MaxLength(100), 19] }
                4 -> 7
                5 -> 14
            SELECT m0.Id, m0.Description, m0.Director, m0.Genre, m0.IsDeleted, m0.ReleaseDate, m0.Title, s.Id, s.Comment, s.Created_At, s.IsDeleted, s.MovieId, s.Rating, s.User_ID, s.Id0, s.Created_At0, s.Email, s.IsDeleted0, s.Password, s.Username
            FROM 
            (
                SELECT TOP(1) m.Id, m.Description, m.Director, m.Genre, m.IsDeleted, m.ReleaseDate, m.Title
                FROM Movies AS m
                WHERE Not(m.IsDeleted) && (m.Id == @__id_0)
            ) AS m0
            LEFT JOIN 
            (
                SELECT r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID, u0.Id AS Id0, u0.Created_At AS Created_At0, u0.Email, u0.IsDeleted AS IsDeleted0, u0.Password, u0.Username
                FROM Reviews AS r
                INNER JOIN 
                (
                    SELECT u.Id, u.Created_At, u.Email, u.IsDeleted, u.Password, u.Username
                    FROM Users AS u
                    WHERE Not(u.IsDeleted)
                ) AS u0 ON r.User_ID == u0.Id
                WHERE Not(r.IsDeleted)
            ) AS s ON m0.Id == s.MovieId
            ORDER BY m0.Id ASC, s.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movie.Description (string) MaxLength(1000), 1], [Property: Movie.Director (string) MaxLength(100), 2], [Property: Movie.Genre (string) MaxLength(100), 3], [Property: Movie.IsDeleted (bool) Required, 4], [Property: Movie.ReleaseDate (DateOnly?), 5], [Property: Movie.Title (string) Required Index MaxLength(100), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Review.Comment (string) MaxLength(1000), 8], [Property: Review.CreatedAt (DateTime) Required, 9], [Property: Review.IsDeleted (bool) Required, 10], [Property: Review.MovieId (int) Required FK Index, 11], [Property: Review.Rating (int) Required, 12], [Property: Review.UserId (int) Required FK Index, 13] }
                3 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: User.CreatedAt (DateTime) Required, 15], [Property: User.Email (string) Required Index MaxLength(100), 16], [Property: User.IsDeleted (bool) Required, 17], [Property: User.Password (string) Required MaxLength(100), 18], [Property: User.Username (string) Required Index MaxLength(100), 19] }
                4 -> 7
                5 -> 14
            SELECT m0.Id, m0.Description, m0.Director, m0.Genre, m0.IsDeleted, m0.ReleaseDate, m0.Title, s.Id, s.Comment, s.Created_At, s.IsDeleted, s.MovieId, s.Rating, s.User_ID, s.Id0, s.Created_At0, s.Email, s.IsDeleted0, s.Password, s.Username
            FROM 
            (
                SELECT TOP(1) m.Id, m.Description, m.Director, m.Genre, m.IsDeleted, m.ReleaseDate, m.Title
                FROM Movies AS m
                WHERE Not(m.IsDeleted) && (m.Id == @__id_0)
            ) AS m0
            LEFT JOIN 
            (
                SELECT r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID, u0.Id AS Id0, u0.Created_At AS Created_At0, u0.Email, u0.IsDeleted AS IsDeleted0, u0.Password, u0.Username
                FROM Reviews AS r
                INNER JOIN 
                (
                    SELECT u.Id, u.Created_At, u.Email, u.IsDeleted, u.Password, u.Username
                    FROM Users AS u
                    WHERE Not(u.IsDeleted)
                ) AS u0 ON r.User_ID == u0.Id
                WHERE Not(r.IsDeleted)
            ) AS s ON m0.Id == s.MovieId
            ORDER BY m0.Id ASC, s.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Movie entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Movie instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Movie);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Movie.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Movie)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")]: 
                                {
                                    return 
                                    {
                                        Movie instance;
                                        instance = new Movie();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<Director>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                        instance.<Genre>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                        instance.<ReleaseDate>k__BackingField = dataReader.IsDBNull(5) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(5);
                                        instance.<Title>k__BackingField = dataReader.GetString(6);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Movie)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Movie, Movie>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Movie)(resultContext.Values[0]), 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                    navigation: [LIFTABLE Constant: Navigation: Movie.Reviews (ICollection<Review>) Collection ToDependent Review Inverse: Movie | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Movie, ICollection<Review>, Review> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Movie, Review>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                selfIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7), 
                    (object)dataReader.IsDBNull(14) ? default(int?) : (int?)dataReader.GetInt32(14) 
                }, 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Review entity;
                    User entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Review instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Review);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Review.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetInt32(7) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Review)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]: 
                                    {
                                        return 
                                        {
                                            Review instance;
                                            instance = new Review();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(7) ? default(int) : dataReader.GetInt32(7);
                                            instance.<Comment>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime) : dataReader.GetDateTime(9);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(10) ? default(bool) : dataReader.GetBoolean(10);
                                            instance.<MovieId>k__BackingField = dataReader.IsDBNull(11) ? default(int) : dataReader.GetInt32(11);
                                            instance.<Rating>k__BackingField = dataReader.IsDBNull(12) ? default(int) : dataReader.GetInt32(12);
                                            instance.<UserId>k__BackingField = dataReader.IsDBNull(13) ? default(int) : dataReader.GetInt32(13);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Review)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        User instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(User);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(14) ? default(object) : (object)dataReader.GetInt32(14) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (User)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")]: 
                                    {
                                        return 
                                        {
                                            User instance;
                                            instance = new User();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(14) ? default(int) : dataReader.GetInt32(14);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(15) ? default(DateTime) : dataReader.GetDateTime(15);
                                            instance.<Email>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(17) ? default(bool) : dataReader.GetBoolean(17);
                                            instance.<Password>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                            instance.<Username>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(User)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    ShaperProcessingExpressionVisitor.IncludeReference<Review, Review, User>(
                        queryContext: queryContext, 
                        entity: entity, 
                        relatedEntity: entity, 
                        navigation: [LIFTABLE Constant: Navigation: Review.User (User) ToPrincipal User Inverse: Reviews | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindNavigation("User")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: User.Reviews (ICollection<Review>) Collection ToDependent Review Inverse: User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindNavigation("Reviews")], 
                        fixup: (namelessParameter{13}, namelessParameter{14}) => 
                        {
                            namelessParameter{13}.<User>k__BackingField = namelessParameter{14};
                            return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<Review>, Review> | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindNavigation("Reviews").GetCollectionAccessor()].Add(
                                entity: namelessParameter{14}, 
                                value: namelessParameter{13}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Review.Movie (Movie) ToPrincipal Movie Inverse: Reviews | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindNavigation("Movie")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Movie, ICollection<Review>, Review> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews").GetCollectionAccessor()].Add(
                        entity: namelessParameter{17}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                    return namelessParameter{18}.<Movie>k__BackingField = namelessParameter{17};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Movie)(resultContext.Values[0]) : default(Movie);
        }, 
        contextType: CineVault.API.Entities.CineVaultDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-08 16:26:02.457 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:26:02.458 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:26:02.459 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:26:02.460 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:26:02.460 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:26:02.463 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-08 16:26:02.464 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-08 16:26:02.468 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[Id], [m0].[Description], [m0].[Director], [m0].[Genre], [m0].[IsDeleted], [m0].[ReleaseDate], [m0].[Title], [s].[Id], [s].[Comment], [s].[Created_At], [s].[IsDeleted], [s].[MovieId], [s].[Rating], [s].[User_ID], [s].[Id0], [s].[Created_At0], [s].[Email], [s].[IsDeleted0], [s].[Password], [s].[Username]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Description], [m].[Director], [m].[Genre], [m].[IsDeleted], [m].[ReleaseDate], [m].[Title]
    FROM [Movies] AS [m]
    WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Id] = @__id_0
) AS [m0]
LEFT JOIN (
    SELECT [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID], [u0].[Id] AS [Id0], [u0].[Created_At] AS [Created_At0], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted0], [u0].[Password], [u0].[Username]
    FROM [Reviews] AS [r]
    INNER JOIN (
        SELECT [u].[Id], [u].[Created_At], [u].[Email], [u].[IsDeleted], [u].[Password], [u].[Username]
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit)
    ) AS [u0] ON [r].[User_ID] = [u0].[Id]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [m0].[Id] = [s].[MovieId]
ORDER BY [m0].[Id], [s].[Id]
2025-04-08 16:26:02.484 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[Id], [m0].[Description], [m0].[Director], [m0].[Genre], [m0].[IsDeleted], [m0].[ReleaseDate], [m0].[Title], [s].[Id], [s].[Comment], [s].[Created_At], [s].[IsDeleted], [s].[MovieId], [s].[Rating], [s].[User_ID], [s].[Id0], [s].[Created_At0], [s].[Email], [s].[IsDeleted0], [s].[Password], [s].[Username]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Description], [m].[Director], [m].[Genre], [m].[IsDeleted], [m].[ReleaseDate], [m].[Title]
    FROM [Movies] AS [m]
    WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Id] = @__id_0
) AS [m0]
LEFT JOIN (
    SELECT [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID], [u0].[Id] AS [Id0], [u0].[Created_At] AS [Created_At0], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted0], [u0].[Password], [u0].[Username]
    FROM [Reviews] AS [r]
    INNER JOIN (
        SELECT [u].[Id], [u].[Created_At], [u].[Email], [u].[IsDeleted], [u].[Password], [u].[Username]
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit)
    ) AS [u0] ON [r].[User_ID] = [u0].[Id]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [m0].[Id] = [s].[MovieId]
ORDER BY [m0].[Id], [s].[Id]
2025-04-08 16:26:02.487 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: 1}'.
2025-04-08 16:26:02.500 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Review' entity with key '{Id: 1}'.
2025-04-08 16:26:02.506 +03:00 [DBG] The navigation 'Review.User' for entity with key '{Id: 1}' was detected as changed.
2025-04-08 16:26:02.509 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'User' entity with key '{Id: 1}'.
2025-04-08 16:26:02.516 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:26:02.517 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 31ms reading results.
2025-04-08 16:26:02.518 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:26:02.519 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (0ms).
2025-04-08 16:26:02.530 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:26:02.532 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:26:02.533 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:26:02.534 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:26:02.535 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:26:02.536 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:26:02.538 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[CineVault.API.Controllers.Responses.GetMovieDetailsResponse, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-08 16:26:02.553 +03:00 [INF] Executed action CineVault.API.Controllers.MoviesController.GetMovieDetails (CineVault.API) in 292.8697ms
2025-04-08 16:26:02.554 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.MoviesController.GetMovieDetails (CineVault.API)'
2025-04-08 16:26:02.555 +03:00 [INF] Req done: POST /api/v2/Movies/GetMovieDetails/1 200 in 310 ms
2025-04-08 16:26:02.556 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:26:02.564 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:26:02.568 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-08 16:26:02.569 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Movies/GetMovieDetails/1 - 200 null application/json; charset=utf-8 347.277ms
2025-04-08 16:28:47.206 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Movies/SearchMovies2 - application/json 309
2025-04-08 16:28:47.214 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Movies/SearchMovies2'
2025-04-08 16:28:47.215 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.MoviesController.SearchMovies2 (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Movies/SearchMovies2' is valid for the request path '/api/v2/Movies/SearchMovies2'
2025-04-08 16:28:47.217 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.MoviesController.SearchMovies2 (CineVault.API)'
2025-04-08 16:28:47.218 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:28:47.219 +03:00 [INF] Req start: POST /api/v2/Movies/SearchMovies2
2025-04-08 16:28:47.220 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.MoviesController.SearchMovies2 (CineVault.API)'
2025-04-08 16:28:47.228 +03:00 [INF] Route matched with {action = "SearchMovies2", controller = "Movies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Collections.Generic.ICollection`1[CineVault.API.Controllers.Responses.MovieResponse]]]] SearchMovies2(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]) on controller CineVault.API.Controllers.MoviesController (CineVault.API).
2025-04-08 16:28:47.230 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:28:47.232 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:28:47.234 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:28:47.235 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:28:47.237 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:28:47.239 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-04-08 16:28:47.241 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.MoviesController (CineVault.API)
2025-04-08 16:28:47.242 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]' ...
2025-04-08 16:28:47.244 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]' using the name '' in request data ...
2025-04-08 16:28:47.245 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:28:47.251 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000025": started reading request body.
2025-04-08 16:28:47.252 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000025": done reading request body.
2025-04-08 16:28:47.256 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.SearchMovies2Request, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-04-08 16:28:47.257 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]'.
2025-04-08 16:28:47.258 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]'.
2025-04-08 16:28:47.259 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]' ...
2025-04-08 16:28:47.264 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.SearchMovies2Request]'.
2025-04-08 16:28:47.268 +03:00 [INF] SearchMovies
2025-04-08 16:28:47.269 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:28:47.280 +03:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(m => m.Reviews)
    .Where(m => m.Description != null && m.Director != null && m.Title.ToLower().Contains(__searchText_0) || m.Description.ToLower().Contains(__searchText_0) || m.Director.ToLower().Contains(__searchText_0))
    .Where(m => m.Genre == __request_Data_Genre_1)
    .Where(m => m.ReleaseDate >= __request_Data_ReleaseDateFrom_2)
    .Where(m => m.ReleaseDate <= __request_Data_ReleaseDateTo_3)'
2025-04-08 16:28:47.283 +03:00 [DBG] Including navigation: 'Movie.Reviews'.
2025-04-08 16:28:47.307 +03:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__searchText_0_contains", 
        value: (object)Invoke(queryContext => SqlServerSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__searchText_0", 
            methodType: Contains), queryContext));
    return SingleQueryingEnumerable.Create<Movie>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movie.Description (string) MaxLength(1000), 1], [Property: Movie.Director (string) MaxLength(100), 2], [Property: Movie.Genre (string) MaxLength(100), 3], [Property: Movie.IsDeleted (bool) Required, 4], [Property: Movie.ReleaseDate (DateOnly?), 5], [Property: Movie.Title (string) Required Index MaxLength(100), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Review.Comment (string) MaxLength(1000), 8], [Property: Review.CreatedAt (DateTime) Required, 9], [Property: Review.IsDeleted (bool) Required, 10], [Property: Review.MovieId (int) Required FK Index, 11], [Property: Review.Rating (int) Required, 12], [Property: Review.UserId (int) Required FK Index, 13] }
                3 -> 7
            SELECT m.Id, m.Description, m.Director, m.Genre, m.IsDeleted, m.ReleaseDate, m.Title, r0.Id, r0.Comment, r0.Created_At, r0.IsDeleted, r0.MovieId, r0.Rating, r0.User_ID
            FROM Movies AS m
            LEFT JOIN 
            (
                SELECT r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID
                FROM Reviews AS r
                WHERE Not(r.IsDeleted)
            ) AS r0 ON m.Id == r0.MovieId
            WHERE (((Not(m.IsDeleted) && (((m.Description != NULL) && (m.Director != NULL)) && (((LOWER(m.Title) LIKE @__searchText_0_contains ESCAPE N'\') || (LOWER(m.Description) LIKE @__searchText_0_contains ESCAPE N'\')) || (LOWER(m.Director) LIKE @__searchText_0_contains ESCAPE N'\')))) && (m.Genre == @__request_Data_Genre_1)) && (m.ReleaseDate >= @__request_Data_ReleaseDateFrom_2)) && (m.ReleaseDate <= @__request_Data_ReleaseDateTo_3)
            ORDER BY m.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movie.Description (string) MaxLength(1000), 1], [Property: Movie.Director (string) MaxLength(100), 2], [Property: Movie.Genre (string) MaxLength(100), 3], [Property: Movie.IsDeleted (bool) Required, 4], [Property: Movie.ReleaseDate (DateOnly?), 5], [Property: Movie.Title (string) Required Index MaxLength(100), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Review.Comment (string) MaxLength(1000), 8], [Property: Review.CreatedAt (DateTime) Required, 9], [Property: Review.IsDeleted (bool) Required, 10], [Property: Review.MovieId (int) Required FK Index, 11], [Property: Review.Rating (int) Required, 12], [Property: Review.UserId (int) Required FK Index, 13] }
                3 -> 7
            SELECT m.Id, m.Description, m.Director, m.Genre, m.IsDeleted, m.ReleaseDate, m.Title, r0.Id, r0.Comment, r0.Created_At, r0.IsDeleted, r0.MovieId, r0.Rating, r0.User_ID
            FROM Movies AS m
            LEFT JOIN 
            (
                SELECT r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID
                FROM Reviews AS r
                WHERE Not(r.IsDeleted)
            ) AS r0 ON m.Id == r0.MovieId
            WHERE (((Not(m.IsDeleted) && (((m.Description != NULL) && (m.Director != NULL)) && (((LOWER(m.Title) LIKE @__searchText_0_contains ESCAPE N'\') || (LOWER(m.Description) LIKE @__searchText_0_contains ESCAPE N'\')) || (LOWER(m.Director) LIKE @__searchText_0_contains ESCAPE N'\')))) && (m.Genre == @__request_Data_Genre_1)) && (m.ReleaseDate >= @__request_Data_ReleaseDateFrom_2)) && (m.ReleaseDate <= @__request_Data_ReleaseDateTo_3)
            ORDER BY m.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Movie entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Movie instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Movie);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Movie.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Movie)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")]: 
                                {
                                    return 
                                    {
                                        Movie instance;
                                        instance = new Movie();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<Description>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<Director>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                        instance.<Genre>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                        instance.<ReleaseDate>k__BackingField = dataReader.IsDBNull(5) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(5);
                                        instance.<Title>k__BackingField = dataReader.GetString(6);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Movie)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Movie, Movie>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Movie)(resultContext.Values[0]), 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                    navigation: [LIFTABLE Constant: Navigation: Movie.Reviews (ICollection<Review>) Collection ToDependent Review Inverse: Movie | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Movie, ICollection<Review>, Review> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Movie, Review>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7) }, 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Review entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Review instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Review);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Review.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(7) ? default(object) : (object)dataReader.GetInt32(7) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Review)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]: 
                                    {
                                        return 
                                        {
                                            Review instance;
                                            instance = new Review();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(7) ? default(int) : dataReader.GetInt32(7);
                                            instance.<Comment>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime) : dataReader.GetDateTime(9);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(10) ? default(bool) : dataReader.GetBoolean(10);
                                            instance.<MovieId>k__BackingField = dataReader.IsDBNull(11) ? default(int) : dataReader.GetInt32(11);
                                            instance.<Rating>k__BackingField = dataReader.IsDBNull(12) ? default(int) : dataReader.GetInt32(12);
                                            instance.<UserId>k__BackingField = dataReader.IsDBNull(13) ? default(int) : dataReader.GetInt32(13);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Review)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Review.Movie (Movie) ToPrincipal Movie Inverse: Reviews | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindNavigation("Movie")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Movie, ICollection<Review>, Review> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<Movie>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Movie)(resultContext.Values[0]) : default(Movie);
        }, 
        contextType: CineVault.API.Entities.CineVaultDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True);
}'
2025-04-08 16:28:47.336 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:28:47.337 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:28:47.339 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:28:47.342 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:28:47.343 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:28:47.344 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:28:47.345 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-08 16:28:47.346 +03:00 [DBG] Executing DbCommand [Parameters=[@__searchText_0_contains='%cop%' (Size = 100), @__searchText_0_contains_1='%cop%' (Size = 1000), @__request_Data_Genre_1='Crime' (Size = 100), @__request_Data_ReleaseDateFrom_2='01/01/1990' (Nullable = true) (DbType = Date), @__request_Data_ReleaseDateTo_3='01/01/2020' (Nullable = true) (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Description], [m].[Director], [m].[Genre], [m].[IsDeleted], [m].[ReleaseDate], [m].[Title], [r0].[Id], [r0].[Comment], [r0].[Created_At], [r0].[IsDeleted], [r0].[MovieId], [r0].[Rating], [r0].[User_ID]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID]
    FROM [Reviews] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [r0] ON [m].[Id] = [r0].[MovieId]
WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Description] IS NOT NULL AND [m].[Director] IS NOT NULL AND (LOWER([m].[Title]) LIKE @__searchText_0_contains ESCAPE N'\' OR LOWER([m].[Description]) LIKE @__searchText_0_contains_1 ESCAPE N'\' OR LOWER([m].[Director]) LIKE @__searchText_0_contains ESCAPE N'\') AND [m].[Genre] = @__request_Data_Genre_1 AND [m].[ReleaseDate] >= @__request_Data_ReleaseDateFrom_2 AND [m].[ReleaseDate] <= @__request_Data_ReleaseDateTo_3
ORDER BY [m].[Id]
2025-04-08 16:28:47.380 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__searchText_0_contains='%cop%' (Size = 100), @__searchText_0_contains_1='%cop%' (Size = 1000), @__request_Data_Genre_1='Crime' (Size = 100), @__request_Data_ReleaseDateFrom_2='01/01/1990' (Nullable = true) (DbType = Date), @__request_Data_ReleaseDateTo_3='01/01/2020' (Nullable = true) (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Description], [m].[Director], [m].[Genre], [m].[IsDeleted], [m].[ReleaseDate], [m].[Title], [r0].[Id], [r0].[Comment], [r0].[Created_At], [r0].[IsDeleted], [r0].[MovieId], [r0].[Rating], [r0].[User_ID]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID]
    FROM [Reviews] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [r0] ON [m].[Id] = [r0].[MovieId]
WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[Description] IS NOT NULL AND [m].[Director] IS NOT NULL AND (LOWER([m].[Title]) LIKE @__searchText_0_contains ESCAPE N'\' OR LOWER([m].[Description]) LIKE @__searchText_0_contains_1 ESCAPE N'\' OR LOWER([m].[Director]) LIKE @__searchText_0_contains ESCAPE N'\') AND [m].[Genre] = @__request_Data_Genre_1 AND [m].[ReleaseDate] >= @__request_Data_ReleaseDateFrom_2 AND [m].[ReleaseDate] <= @__request_Data_ReleaseDateTo_3
ORDER BY [m].[Id]
2025-04-08 16:28:47.384 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: 8}'.
2025-04-08 16:28:47.387 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:28:47.389 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 6ms reading results.
2025-04-08 16:28:47.390 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:28:47.392 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:28:47.409 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:28:47.410 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:28:47.411 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:28:47.412 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:28:47.413 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:28:47.414 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:28:47.415 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Collections.Generic.ICollection`1[[CineVault.API.Controllers.Responses.MovieResponse, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:28:47.428 +03:00 [INF] Executed action CineVault.API.Controllers.MoviesController.SearchMovies2 (CineVault.API) in 189.3968ms
2025-04-08 16:28:47.435 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.MoviesController.SearchMovies2 (CineVault.API)'
2025-04-08 16:28:47.440 +03:00 [INF] Req done: POST /api/v2/Movies/SearchMovies2 200 in 220 ms
2025-04-08 16:28:47.442 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:28:47.443 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:28:47.444 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-04-08 16:28:47.445 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Movies/SearchMovies2 - 200 null application/json; charset=utf-8 238.378ms
2025-04-08 16:29:46.397 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Users/GetUserStats/1 - application/json 174
2025-04-08 16:29:46.428 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Users/GetUserStats/1'
2025-04-08 16:29:46.429 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.GetUserStats (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/GetUserStats/{id}' is valid for the request path '/api/v2/Users/GetUserStats/1'
2025-04-08 16:29:46.430 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.UsersController.GetUserStats (CineVault.API)'
2025-04-08 16:29:46.431 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:29:46.432 +03:00 [INF] Req start: POST /api/v2/Users/GetUserStats/1
2025-04-08 16:29:46.433 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.UsersController.GetUserStats (CineVault.API)'
2025-04-08 16:29:46.438 +03:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[CineVault.API.Controllers.Responses.GetUserStatsResponse]]] GetUserStats(Int32, CineVault.API.Controllers.Requests.ApiRequest) on controller CineVault.API.Controllers.UsersController (CineVault.API).
2025-04-08 16:29:46.440 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:29:46.441 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:29:46.443 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:29:46.445 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:29:46.447 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:29:46.449 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:29:46.451 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:29:46.454 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-08 16:29:46.455 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-08 16:29:46.459 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-08 16:29:46.460 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-08 16:29:46.461 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-08 16:29:46.463 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-08 16:29:46.464 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:29:46.465 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' using the name '' in request data ...
2025-04-08 16:29:46.466 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:29:46.467 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000027": started reading request body.
2025-04-08 16:29:46.468 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000027": done reading request body.
2025-04-08 16:29:46.469 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest'
2025-04-08 16:29:46.470 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:29:46.471 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:29:46.472 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:29:46.473 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:29:46.477 +03:00 [INF] GetUserStats id:1
2025-04-08 16:29:46.478 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:29:46.481 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(u => u.Reviews)
    .ThenInclude(r => r.Movie)
    .FirstOrDefault(u => u.Id == __id_0)'
2025-04-08 16:29:46.483 +03:00 [DBG] Including navigation: 'User.Reviews'.
2025-04-08 16:29:46.485 +03:00 [DBG] Including navigation: 'Review.Movie'.
2025-04-08 16:29:46.499 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required Index MaxLength(100), 2], [Property: User.IsDeleted (bool) Required, 3], [Property: User.Password (string) Required MaxLength(100), 4], [Property: User.Username (string) Required Index MaxLength(100), 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Review.Comment (string) MaxLength(1000), 7], [Property: Review.CreatedAt (DateTime) Required, 8], [Property: Review.IsDeleted (bool) Required, 9], [Property: Review.MovieId (int) Required FK Index, 10], [Property: Review.Rating (int) Required, 11], [Property: Review.UserId (int) Required FK Index, 12] }
                3 -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Movie.Description (string) MaxLength(1000), 14], [Property: Movie.Director (string) MaxLength(100), 15], [Property: Movie.Genre (string) MaxLength(100), 16], [Property: Movie.IsDeleted (bool) Required, 17], [Property: Movie.ReleaseDate (DateOnly?), 18], [Property: Movie.Title (string) Required Index MaxLength(100), 19] }
                4 -> 6
                5 -> 13
            SELECT u0.Id, u0.Created_At, u0.Email, u0.IsDeleted, u0.Password, u0.Username, s.Id, s.Comment, s.Created_At, s.IsDeleted, s.MovieId, s.Rating, s.User_ID, s.Id0, s.Description, s.Director, s.Genre, s.IsDeleted0, s.ReleaseDate, s.Title
            FROM 
            (
                SELECT TOP(1) u.Id, u.Created_At, u.Email, u.IsDeleted, u.Password, u.Username
                FROM Users AS u
                WHERE Not(u.IsDeleted) && (u.Id == @__id_0)
            ) AS u0
            LEFT JOIN 
            (
                SELECT r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID, m0.Id AS Id0, m0.Description, m0.Director, m0.Genre, m0.IsDeleted AS IsDeleted0, m0.ReleaseDate, m0.Title
                FROM Reviews AS r
                INNER JOIN 
                (
                    SELECT m.Id, m.Description, m.Director, m.Genre, m.IsDeleted, m.ReleaseDate, m.Title
                    FROM Movies AS m
                    WHERE Not(m.IsDeleted)
                ) AS m0 ON r.MovieId == m0.Id
                WHERE Not(r.IsDeleted)
            ) AS s ON u0.Id == s.User_ID
            ORDER BY u0.Id ASC, s.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required Index MaxLength(100), 2], [Property: User.IsDeleted (bool) Required, 3], [Property: User.Password (string) Required MaxLength(100), 4], [Property: User.Username (string) Required Index MaxLength(100), 5] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Review.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Review.Comment (string) MaxLength(1000), 7], [Property: Review.CreatedAt (DateTime) Required, 8], [Property: Review.IsDeleted (bool) Required, 9], [Property: Review.MovieId (int) Required FK Index, 10], [Property: Review.Rating (int) Required, 11], [Property: Review.UserId (int) Required FK Index, 12] }
                3 -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Movie.Description (string) MaxLength(1000), 14], [Property: Movie.Director (string) MaxLength(100), 15], [Property: Movie.Genre (string) MaxLength(100), 16], [Property: Movie.IsDeleted (bool) Required, 17], [Property: Movie.ReleaseDate (DateOnly?), 18], [Property: Movie.Title (string) Required Index MaxLength(100), 19] }
                4 -> 6
                5 -> 13
            SELECT u0.Id, u0.Created_At, u0.Email, u0.IsDeleted, u0.Password, u0.Username, s.Id, s.Comment, s.Created_At, s.IsDeleted, s.MovieId, s.Rating, s.User_ID, s.Id0, s.Description, s.Director, s.Genre, s.IsDeleted0, s.ReleaseDate, s.Title
            FROM 
            (
                SELECT TOP(1) u.Id, u.Created_At, u.Email, u.IsDeleted, u.Password, u.Username
                FROM Users AS u
                WHERE Not(u.IsDeleted) && (u.Id == @__id_0)
            ) AS u0
            LEFT JOIN 
            (
                SELECT r.Id, r.Comment, r.Created_At, r.IsDeleted, r.MovieId, r.Rating, r.User_ID, m0.Id AS Id0, m0.Description, m0.Director, m0.Genre, m0.IsDeleted AS IsDeleted0, m0.ReleaseDate, m0.Title
                FROM Reviews AS r
                INNER JOIN 
                (
                    SELECT m.Id, m.Description, m.Director, m.Genre, m.IsDeleted, m.ReleaseDate, m.Title
                    FROM Movies AS m
                    WHERE Not(m.IsDeleted)
                ) AS m0 ON r.MovieId == m0.Id
                WHERE Not(r.IsDeleted)
            ) AS s ON u0.Id == s.User_ID
            ORDER BY u0.Id ASC, s.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                User entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    User instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(User);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (User)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")]: 
                                {
                                    return 
                                    {
                                        User instance;
                                        instance = new User();
                                        instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                        instance.<Email>k__BackingField = dataReader.GetString(2);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(3);
                                        instance.<Password>k__BackingField = dataReader.GetString(4);
                                        instance.<Username>k__BackingField = dataReader.GetString(5);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(User)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<User, User>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (User)(resultContext.Values[0]), 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                    navigation: [LIFTABLE Constant: Navigation: User.Reviews (ICollection<Review>) Collection ToDependent Review Inverse: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindNavigation("Reviews")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<Review>, Review> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindNavigation("Reviews").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<User, Review>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(int?)dataReader.GetInt32(0) }, 
                selfIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)dataReader.IsDBNull(6) ? default(int?) : (int?)dataReader.GetInt32(6), 
                    (object)dataReader.IsDBNull(13) ? default(int?) : (int?)dataReader.GetInt32(13) 
                }, 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (int)left, (int)right) 
                }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Review entity;
                    Movie entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        Review instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(Review);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Review.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(6) ? default(object) : (object)dataReader.GetInt32(6) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (Review)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]: 
                                    {
                                        return 
                                        {
                                            Review instance;
                                            instance = new Review();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(6) ? default(int) : dataReader.GetInt32(6);
                                            instance.<Comment>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime) : dataReader.GetDateTime(8);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(9) ? default(bool) : dataReader.GetBoolean(9);
                                            instance.<MovieId>k__BackingField = dataReader.IsDBNull(10) ? default(int) : dataReader.GetInt32(10);
                                            instance.<Rating>k__BackingField = dataReader.IsDBNull(11) ? default(int) : dataReader.GetInt32(11);
                                            instance.<UserId>k__BackingField = dataReader.IsDBNull(12) ? default(int) : dataReader.GetInt32(12);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Review | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Review)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        Movie instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(Movie);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Movie.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(13) ? default(object) : (object)dataReader.GetInt32(13) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (Movie)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")]: 
                                    {
                                        return 
                                        {
                                            Movie instance;
                                            instance = new Movie();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(13) ? default(int) : dataReader.GetInt32(13);
                                            instance.<Description>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                            instance.<Director>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                            instance.<Genre>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(17) ? default(bool) : dataReader.GetBoolean(17);
                                            instance.<ReleaseDate>k__BackingField = dataReader.IsDBNull(18) ? default(DateOnly?) : (DateOnly?)dataReader.GetFieldValue<DateOnly>(18);
                                            instance.<Title>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Movie | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Movie)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    ShaperProcessingExpressionVisitor.IncludeReference<Review, Review, Movie>(
                        queryContext: queryContext, 
                        entity: entity, 
                        relatedEntity: entity, 
                        navigation: [LIFTABLE Constant: Navigation: Review.Movie (Movie) ToPrincipal Movie Inverse: Reviews | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindNavigation("Movie")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: Movie.Reviews (ICollection<Review>) Collection ToDependent Review Inverse: Movie | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews")], 
                        fixup: (namelessParameter{13}, namelessParameter{14}) => 
                        {
                            namelessParameter{13}.<Movie>k__BackingField = namelessParameter{14};
                            return [LIFTABLE Constant: ClrICollectionAccessor<Movie, ICollection<Review>, Review> | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Movie").FindNavigation("Reviews").GetCollectionAccessor()].Add(
                                entity: namelessParameter{14}, 
                                value: namelessParameter{13}, 
                                forMaterialization: True);
                        }, 
                        trackingQuery: True);
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Review.User (User) ToPrincipal User Inverse: Reviews | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("CineVault.API.Entities.Review").FindNavigation("User")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<Review>, Review> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindNavigation("Reviews").GetCollectionAccessor()].Add(
                        entity: namelessParameter{17}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                    return namelessParameter{18}.<User>k__BackingField = namelessParameter{17};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (User)(resultContext.Values[0]) : default(User);
        }, 
        contextType: CineVault.API.Entities.CineVaultDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-08 16:29:46.514 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:29:46.515 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:29:46.515 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:29:46.516 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:29:46.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:29:46.518 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:29:46.519 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:29:46.520 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Created_At], [u0].[Email], [u0].[IsDeleted], [u0].[Password], [u0].[Username], [s].[Id], [s].[Comment], [s].[Created_At], [s].[IsDeleted], [s].[MovieId], [s].[Rating], [s].[User_ID], [s].[Id0], [s].[Description], [s].[Director], [s].[Genre], [s].[IsDeleted0], [s].[ReleaseDate], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Created_At], [u].[Email], [u].[IsDeleted], [u].[Password], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID], [m0].[Id] AS [Id0], [m0].[Description], [m0].[Director], [m0].[Genre], [m0].[IsDeleted] AS [IsDeleted0], [m0].[ReleaseDate], [m0].[Title]
    FROM [Reviews] AS [r]
    INNER JOIN (
        SELECT [m].[Id], [m].[Description], [m].[Director], [m].[Genre], [m].[IsDeleted], [m].[ReleaseDate], [m].[Title]
        FROM [Movies] AS [m]
        WHERE [m].[IsDeleted] = CAST(0 AS bit)
    ) AS [m0] ON [r].[MovieId] = [m0].[Id]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [u0].[Id] = [s].[User_ID]
ORDER BY [u0].[Id], [s].[Id]
2025-04-08 16:29:46.528 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Created_At], [u0].[Email], [u0].[IsDeleted], [u0].[Password], [u0].[Username], [s].[Id], [s].[Comment], [s].[Created_At], [s].[IsDeleted], [s].[MovieId], [s].[Rating], [s].[User_ID], [s].[Id0], [s].[Description], [s].[Director], [s].[Genre], [s].[IsDeleted0], [s].[ReleaseDate], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Created_At], [u].[Email], [u].[IsDeleted], [u].[Password], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [r].[Id], [r].[Comment], [r].[Created_At], [r].[IsDeleted], [r].[MovieId], [r].[Rating], [r].[User_ID], [m0].[Id] AS [Id0], [m0].[Description], [m0].[Director], [m0].[Genre], [m0].[IsDeleted] AS [IsDeleted0], [m0].[ReleaseDate], [m0].[Title]
    FROM [Reviews] AS [r]
    INNER JOIN (
        SELECT [m].[Id], [m].[Description], [m].[Director], [m].[Genre], [m].[IsDeleted], [m].[ReleaseDate], [m].[Title]
        FROM [Movies] AS [m]
        WHERE [m].[IsDeleted] = CAST(0 AS bit)
    ) AS [m0] ON [r].[MovieId] = [m0].[Id]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [u0].[Id] = [s].[User_ID]
ORDER BY [u0].[Id], [s].[Id]
2025-04-08 16:29:46.530 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'User' entity with key '{Id: 1}'.
2025-04-08 16:29:46.544 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Review' entity with key '{Id: 1}'.
2025-04-08 16:29:46.545 +03:00 [DBG] The navigation 'Review.Movie' for entity with key '{Id: 1}' was detected as changed.
2025-04-08 16:29:46.546 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'Movie' entity with key '{Id: 1}'.
2025-04-08 16:29:46.548 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:29:46.549 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 19ms reading results.
2025-04-08 16:29:46.550 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:29:46.552 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:29:46.557 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:29:46.559 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:29:46.560 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:29:46.561 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:29:46.562 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:29:46.563 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:29:46.564 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[CineVault.API.Controllers.Responses.GetUserStatsResponse, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-08 16:29:46.572 +03:00 [INF] Executed action CineVault.API.Controllers.UsersController.GetUserStats (CineVault.API) in 123.4828ms
2025-04-08 16:29:46.576 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.UsersController.GetUserStats (CineVault.API)'
2025-04-08 16:29:46.585 +03:00 [INF] Req done: POST /api/v2/Users/GetUserStats/1 200 in 153 ms
2025-04-08 16:29:46.587 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:29:46.588 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:29:46.591 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-08 16:29:46.594 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Users/GetUserStats/1 - 200 null application/json; charset=utf-8 197.7308ms
2025-04-08 16:31:12.622 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Users/CreateUser - application/json 265
2025-04-08 16:31:12.630 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Users/CreateUser'
2025-04-08 16:31:12.631 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/CreateUser' is valid for the request path '/api/v2/Users/CreateUser'
2025-04-08 16:31:12.634 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/CreateUser' is valid for the request path '/api/v2/Users/CreateUser'
2025-04-08 16:31:12.638 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-04-08 16:31:12.639 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:31:12.641 +03:00 [INF] Req start: POST /api/v2/Users/CreateUser
2025-04-08 16:31:12.642 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-04-08 16:31:12.643 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] CreateUser(CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]) on controller CineVault.API.Controllers.UsersController (CineVault.API).
2025-04-08 16:31:12.646 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:31:12.647 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:31:12.649 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:31:12.656 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:31:12.657 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:31:12.659 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:31:12.660 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:31:12.662 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' ...
2025-04-08 16:31:12.662 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' using the name '' in request data ...
2025-04-08 16:31:12.663 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:31:12.664 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000029": started reading request body.
2025-04-08 16:31:12.665 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:00000029": done reading request body.
2025-04-08 16:31:12.666 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest`1[[CineVault.API.Controllers.Requests.UserRequest, CineVault.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'
2025-04-08 16:31:12.666 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-04-08 16:31:12.667 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-04-08 16:31:12.668 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]' ...
2025-04-08 16:31:12.669 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest`1[CineVault.API.Controllers.Requests.UserRequest]'.
2025-04-08 16:31:12.670 +03:00 [INF] CreateUser username:string
2025-04-08 16:31:12.671 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:31:12.672 +03:00 [DBG] 'CineVaultDbContext' generated temporary value '-2147482646' for the property 'User.Id'.
2025-04-08 16:31:12.674 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'User' entity with key '{Id: -2147482646}'.
2025-04-08 16:31:12.675 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-04-08 16:31:12.676 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-04-08 16:31:12.677 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-04-08 16:31:12.678 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:31:12.678 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:31:12.679 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:12.680 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:12.681 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:31:12.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:31:12.683 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:31:12.684 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='2025-04-08T13:31:12.6711112Z', @p1='string' (Nullable = false) (Size = 100), @p2='False', @p3='string' (Nullable = false) (Size = 100), @p4='string' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Created_At], [Email], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-08 16:31:12.687 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='2025-04-08T13:31:12.6711112Z', @p1='string' (Nullable = false) (Size = 100), @p2='False', @p3='string' (Nullable = false) (Size = 100), @p4='string' (Nullable = false) (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Created_At], [Email], [IsDeleted], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-08 16:31:12.688 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed from '-2147482646' to '2' for entity with key '{Id: 2}'.
2025-04-08 16:31:12.689 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:12.692 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 4ms reading results.
2025-04-08 16:31:12.696 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:12.698 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:31:12.699 +03:00 [DBG] The 'User' entity with key '{Id: 2}' tracked by 'CineVaultDbContext' changed state from '"Added"' to '"Unchanged"'.
2025-04-08 16:31:12.701 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-04-08 16:31:12.702 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:31:12.703 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:31:12.704 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:31:12.705 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:31:12.706 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:31:12.706 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:31:12.708 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:31:12.709 +03:00 [INF] Executed action CineVault.API.Controllers.UsersController.CreateUser (CineVault.API) in 50.6141ms
2025-04-08 16:31:12.716 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.UsersController.CreateUser (CineVault.API)'
2025-04-08 16:31:12.716 +03:00 [INF] Req done: POST /api/v2/Users/CreateUser 200 in 75 ms
2025-04-08 16:31:12.717 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:31:12.718 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:12.719 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-08 16:31:12.720 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Users/CreateUser - 200 null application/json; charset=utf-8 98.5922ms
2025-04-08 16:31:51.606 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7171/api/v2/Users/DeleteUser/2 - application/json 174
2025-04-08 16:31:51.622 +03:00 [DBG] 2 candidate(s) found for the request path '/api/v2/Users/DeleteUser/2'
2025-04-08 16:31:51.626 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.DeleteUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/DeleteUser/{id}' is valid for the request path '/api/v2/Users/DeleteUser/2'
2025-04-08 16:31:51.627 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.DeleteUser (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/DeleteUser/{id}' is valid for the request path '/api/v2/Users/DeleteUser/2'
2025-04-08 16:31:51.629 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.UsersController.DeleteUser (CineVault.API)'
2025-04-08 16:31:51.630 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:31:51.631 +03:00 [INF] Req start: DELETE /api/v2/Users/DeleteUser/2
2025-04-08 16:31:51.632 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.UsersController.DeleteUser (CineVault.API)'
2025-04-08 16:31:51.643 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse]] DeleteUser(Int32, CineVault.API.Controllers.Requests.ApiRequest) on controller CineVault.API.Controllers.UsersController (CineVault.API).
2025-04-08 16:31:51.645 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:31:51.646 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:31:51.647 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:31:51.649 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:31:51.649 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:31:51.651 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:31:51.652 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:31:51.653 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-08 16:31:51.654 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-08 16:31:51.655 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-08 16:31:51.655 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-08 16:31:51.656 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-08 16:31:51.657 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-08 16:31:51.658 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:31:51.660 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' using the name '' in request data ...
2025-04-08 16:31:51.661 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:31:51.662 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000002B": started reading request body.
2025-04-08 16:31:51.663 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000002B": done reading request body.
2025-04-08 16:31:51.664 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest'
2025-04-08 16:31:51.665 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:31:51.666 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:31:51.667 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:31:51.669 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:31:51.671 +03:00 [INF] DeleteUser id:2
2025-04-08 16:31:51.675 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:31:51.688 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-04-08 16:31:51.696 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required Index MaxLength(100), 2], [Property: User.IsDeleted (bool) Required, 3], [Property: User.Password (string) Required MaxLength(100), 4], [Property: User.Username (string) Required Index MaxLength(100), 5] }
            SELECT TOP(1) u.Id, u.Created_At, u.Email, u.IsDeleted, u.Password, u.Username
            FROM Users AS u
            WHERE Not(u.IsDeleted) && (u.Id == @__p_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required Index MaxLength(100), 2], [Property: User.IsDeleted (bool) Required, 3], [Property: User.Password (string) Required MaxLength(100), 4], [Property: User.Username (string) Required Index MaxLength(100), 5] }
            SELECT TOP(1) u.Id, u.Created_At, u.Email, u.IsDeleted, u.Password, u.Username
            FROM Users AS u
            WHERE Not(u.IsDeleted) && (u.Id == @__p_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CineVault.API.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(3);
                                    instance.<Password>k__BackingField = dataReader.GetString(4);
                                    instance.<Username>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CineVault.API.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CineVault.API.Entities.CineVaultDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-08 16:31:51.700 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:31:51.701 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:31:51.702 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.702 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.703 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:31:51.704 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:31:51.705 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:31:51.706 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Created_At], [u].[Email], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0
2025-04-08 16:31:51.712 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Created_At], [u].[Email], [u].[IsDeleted], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0
2025-04-08 16:31:51.713 +03:00 [DBG] Context 'CineVaultDbContext' started tracking 'User' entity with key '{Id: 2}'.
2025-04-08 16:31:51.715 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.716 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 3ms reading results.
2025-04-08 16:31:51.718 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.719 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:31:51.721 +03:00 [DBG] SaveChanges starting for 'CineVaultDbContext'.
2025-04-08 16:31:51.722 +03:00 [DBG] DetectChanges starting for 'CineVaultDbContext'.
2025-04-08 16:31:51.725 +03:00 [DBG] The unchanged property 'User.IsDeleted' was detected as changed from 'false' to 'true' and will be marked as modified for entity with key '{Id: 2}'.
2025-04-08 16:31:51.728 +03:00 [DBG] The 'User' entity with key '{Id: 2}' tracked by 'CineVaultDbContext' changed state from '"Unchanged"' to '"Modified"'.
2025-04-08 16:31:51.730 +03:00 [DBG] DetectChanges completed for 'CineVaultDbContext'.
2025-04-08 16:31:51.735 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.736 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.737 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:31:51.738 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:31:51.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:31:51.740 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='2', @p0='True'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsDeleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-04-08 16:31:51.751 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='2', @p0='True'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsDeleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-04-08 16:31:51.756 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.757 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 3ms reading results.
2025-04-08 16:31:51.759 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.760 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (1ms).
2025-04-08 16:31:51.761 +03:00 [DBG] The 'User' entity with key '{Id: 2}' tracked by 'CineVaultDbContext' changed state from '"Modified"' to '"Unchanged"'.
2025-04-08 16:31:51.763 +03:00 [DBG] SaveChanges completed for 'CineVaultDbContext' with 1 entities written to the database.
2025-04-08 16:31:51.765 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:31:51.767 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:31:51.768 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:31:51.769 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:31:51.770 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:31:51.770 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:31:51.772 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse'.
2025-04-08 16:31:51.775 +03:00 [INF] Executed action CineVault.API.Controllers.UsersController.DeleteUser (CineVault.API) in 124.6814ms
2025-04-08 16:31:51.776 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.UsersController.DeleteUser (CineVault.API)'
2025-04-08 16:31:51.777 +03:00 [INF] Req done: DELETE /api/v2/Users/DeleteUser/2 200 in 146 ms
2025-04-08 16:31:51.778 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:31:51.779 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:31:51.782 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-08 16:31:51.783 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7171/api/v2/Users/DeleteUser/2 - 200 null application/json; charset=utf-8 176.9946ms
2025-04-08 16:32:30.278 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7171/api/v2/Users/GetTotalUsersCount - application/json 174
2025-04-08 16:32:30.305 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/Users/GetTotalUsersCount'
2025-04-08 16:32:30.306 +03:00 [DBG] Endpoint 'CineVault.API.Controllers.UsersController.GetTotalUsersCount (CineVault.API)' with route pattern 'api/v{v:apiVersion}/Users/GetTotalUsersCount' is valid for the request path '/api/v2/Users/GetTotalUsersCount'
2025-04-08 16:32:30.307 +03:00 [DBG] Request matched endpoint 'CineVault.API.Controllers.UsersController.GetTotalUsersCount (CineVault.API)'
2025-04-08 16:32:30.307 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-04-08 16:32:30.308 +03:00 [INF] Req start: POST /api/v2/Users/GetTotalUsersCount
2025-04-08 16:32:30.309 +03:00 [INF] Executing endpoint 'CineVault.API.Controllers.UsersController.GetTotalUsersCount (CineVault.API)'
2025-04-08 16:32:30.314 +03:00 [INF] Route matched with {action = "GetTotalUsersCount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CineVault.API.Controllers.Responses.ApiResponse`1[System.Int32]]] GetTotalUsersCount(CineVault.API.Controllers.Requests.ApiRequest) on controller CineVault.API.Controllers.UsersController (CineVault.API).
2025-04-08 16:32:30.315 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-08 16:32:30.315 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-08 16:32:30.316 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:32:30.317 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-08 16:32:30.317 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2025-04-08 16:32:30.319 +03:00 [DBG] Executing controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:32:30.320 +03:00 [DBG] Executed controller factory for controller CineVault.API.Controllers.UsersController (CineVault.API)
2025-04-08 16:32:30.321 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:32:30.322 +03:00 [DBG] Attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' using the name '' in request data ...
2025-04-08 16:32:30.323 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-08 16:32:30.324 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000002D": started reading request body.
2025-04-08 16:32:30.325 +03:00 [DBG] Connection id "0HNBMJT9QCSRQ", Request id "0HNBMJT9QCSRQ:0000002D": done reading request body.
2025-04-08 16:32:30.326 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CineVault.API.Controllers.Requests.ApiRequest'
2025-04-08 16:32:30.327 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:32:30.328 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:32:30.328 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest' ...
2025-04-08 16:32:30.329 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CineVault.API.Controllers.Requests.ApiRequest'.
2025-04-08 16:32:30.331 +03:00 [INF] GetTotalUsersCount
2025-04-08 16:32:30.333 +03:00 [DBG] Entity Framework Core 9.0.0 initialized 'CineVaultDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: SensitiveDataLoggingEnabled EngineType=SqlServer 
2025-04-08 16:32:30.337 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .IgnoreQueryFilters()
    .Count()'
2025-04-08 16:32:30.354 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Users AS u, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: CineVault.API.Entities.CineVaultDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-08 16:32:30.362 +03:00 [DBG] Creating DbConnection.
2025-04-08 16:32:30.362 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-08 16:32:30.363 +03:00 [DBG] Opening connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:32:30.364 +03:00 [DBG] Opened connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:32:30.365 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-08 16:32:30.366 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-08 16:32:30.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-04-08 16:32:30.368 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-04-08 16:32:30.372 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-04-08 16:32:30.402 +03:00 [DBG] Closing data reader to 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:32:30.405 +03:00 [DBG] A data reader for 'CineVault' on server '(localdb)\mssqllocaldb' is being disposed after spending 8ms reading results.
2025-04-08 16:32:30.407 +03:00 [DBG] Closing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:32:30.411 +03:00 [DBG] Closed connection to database 'CineVault' on server '(localdb)\mssqllocaldb' (3ms).
2025-04-08 16:32:30.413 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-08 16:32:30.416 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-08 16:32:30.417 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-08 16:32:30.418 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-08 16:32:30.419 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-08 16:32:30.419 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-08 16:32:30.420 +03:00 [INF] Executing OkObjectResult, writing value of type 'CineVault.API.Controllers.Responses.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-08 16:32:30.422 +03:00 [INF] Executed action CineVault.API.Controllers.UsersController.GetTotalUsersCount (CineVault.API) in 102.7809ms
2025-04-08 16:32:30.423 +03:00 [INF] Executed endpoint 'CineVault.API.Controllers.UsersController.GetTotalUsersCount (CineVault.API)'
2025-04-08 16:32:30.425 +03:00 [INF] Req done: POST /api/v2/Users/GetTotalUsersCount 200 in 117 ms
2025-04-08 16:32:30.427 +03:00 [DBG] 'CineVaultDbContext' disposed.
2025-04-08 16:32:30.430 +03:00 [DBG] Disposing connection to database 'CineVault' on server '(localdb)\mssqllocaldb'.
2025-04-08 16:32:30.439 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-04-08 16:32:30.440 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7171/api/v2/Users/GetTotalUsersCount - 200 null application/json; charset=utf-8 161.8387ms
